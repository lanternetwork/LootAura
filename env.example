# =============================================================================
# LOOTAURA ENVIRONMENT CONFIGURATION
# =============================================================================
# This file contains all environment variables needed for the LootAura application.
# Copy this file to .env.local and fill in your actual values.
#
# SCHEMA MIGRATION STRATEGY:
# - Legacy builds: Use 'public' schema (default if NEXT_PUBLIC_SUPABASE_SCHEMA not set)
# - V2 builds: Use 'lootaura_v2' schema (set NEXT_PUBLIC_SUPABASE_SCHEMA=lootaura_v2)
# - Production: Maintains backward compatibility with existing deployments
# =============================================================================

# =============================================================================
# CLOUDINARY CONFIGURATION (Optional)
# =============================================================================

# Cloudinary Cloud Name (PUBLIC - safe to expose to client)
# Get this from your Cloudinary dashboard
NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME=your_cloud_name

# Cloudinary Upload Preset (PUBLIC - safe to expose to client)
# Create an unsigned upload preset in your Cloudinary dashboard
NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET=your_upload_preset

# =============================================================================
# SUPABASE CONFIGURATION
# =============================================================================

# Supabase Project URL (PUBLIC - safe to expose to client)
# Get this from your Supabase project settings
NEXT_PUBLIC_SUPABASE_URL=https://bbsxwwjgqucddgcfwvbl.supabase.co/

# Supabase Anonymous Key (PUBLIC - safe to expose to client)
# Get this from your Supabase project settings > API
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJic3h3d2pncXVjZGRnY2Z3dmJsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc5NDExNjgsImV4cCI6MjA3MzUxNzE2OH0.Mm7u_mgekjLkx-22ZDhdKCFKLIz3yZseStGkNefkROI

# Supabase Service Role Key (SERVER-ONLY - never expose to client)
# Get this from your Supabase project settings > API
# WARNING: This key bypasses RLS and should only be used server-side
SUPABASE_SERVICE_ROLE=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJic3h3d2pncXVjZGRnY2Z3dmJsIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1Nzk0MTE2OCwiZXhwIjoyMDczNTE3MTY4fQ.3MAFrCNCHwtN49ERwR4OC5zVUhiiOKDjLHhEpEPOT04

# =============================================================================
# SCHEMA CONFIGURATION
# =============================================================================

# Supabase Schema Selection
# - 'public': Legacy schema (default for existing production builds)
# - 'lootaura_v2': New V2 schema (default for pivot/property-pulse branch)
# - Not set: Falls back to 'public' schema for backward compatibility
NEXT_PUBLIC_SUPABASE_SCHEMA=lootaura_v2

# =============================================================================
# EXTERNAL API CONFIGURATION
# =============================================================================

# Google Maps API Key (PUBLIC - safe to expose to client)
# Required for map functionality and geocoding
# Get this from Google Cloud Console > APIs & Services > Credentials
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=AIzaSyBoSYlvSHgebFXtRZm9y9qPzV32cY36a4c

# Nominatim Geocoding (SERVER-ONLY)
# Optional: Free geocoding service as fallback
# Set your email for proper usage attribution
NOMINATIM_APP_EMAIL=lanternetwork@gmail.com

# =============================================================================
# PUSH NOTIFICATIONS (VAPID)
# =============================================================================

# VAPID Public Key (PUBLIC - safe to expose to client)
# Generate with: npx web-push generate-vapid-keys
NEXT_PUBLIC_VAPID_PUBLIC_KEY=your_vapid_public_key_here

# VAPID Private Key (SERVER-ONLY - never expose to client)
# Generate with: npx web-push generate-vapid-keys
VAPID_PRIVATE_KEY=your_vapid_private_key_here

# =============================================================================
# MONITORING & ANALYTICS
# =============================================================================

# Sentry DSN (PUBLIC - safe to expose to client)
# Get this from your Sentry project settings
NEXT_PUBLIC_SENTRY_DSN=your_sentry_dsn_here

# =============================================================================
# RATE LIMITING (PRODUCTION)
# =============================================================================

# Upstash Redis Configuration (SERVER-ONLY)
# Required for production rate limiting
# Get these from your Upstash Redis database
UPSTASH_REDIS_REST_URL=your_upstash_redis_url_here
UPSTASH_REDIS_REST_TOKEN=your_upstash_redis_token_here

# =============================================================================
# SEO & MARKETING
# =============================================================================

# Site URL (PUBLIC - safe to expose to client)
# Used for canonical URLs and social sharing
NEXT_PUBLIC_SITE_URL=https://lootaura.com

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================

# Manual Location Override (DEVELOPMENT ONLY)
# Format: "lat,lng,city" (e.g., "38.2527,-85.7585,Louisville")
# Used for testing geolocation functionality
MANUAL_LOCATION_OVERRIDE=

# =============================================================================
# LEGACY CONFIGURATION (DEPRECATED)
# =============================================================================

# The following variables are from the legacy system and may be removed in future versions:
# - All legacy Supabase tables are in the 'public' schema
# - Legacy API routes use the original table structure
# - Legacy components use the original data models

# =============================================================================
# SCHEMA MIGRATION NOTES
# =============================================================================

# LEGACY SCHEMA (public):
# - Tables: yard_sales, profiles (old), account_deletion_requests
# - Used by: Existing production deployments
# - Migration: Gradual migration to lootaura_v2 schema

# V2 SCHEMA (lootaura_v2):
# - Tables: profiles, sales, items, favorites
# - Features: Enhanced RLS, performance indexes, updated_at triggers
# - Used by: New deployments and pivot/property-pulse branch

# BACKWARD COMPATIBILITY:
# - If NEXT_PUBLIC_SUPABASE_SCHEMA is not set, defaults to 'public'
# - Existing production builds continue to work unchanged
# - New features can use schema-qualified table names
# - Gradual migration path available

# =============================================================================
# DEPLOYMENT STRATEGY
# =============================================================================

# PRODUCTION (Legacy):
# - Keep NEXT_PUBLIC_SUPABASE_SCHEMA unset or set to 'public'
# - Maintains existing functionality
# - No breaking changes

# PRODUCTION (V2):
# - Set NEXT_PUBLIC_SUPABASE_SCHEMA=lootaura_v2
# - Apply database migration
# - Deploy with new schema configuration

# DEVELOPMENT:
# - Use lootaura_v2 schema for new features
# - Test both schemas as needed
# - Maintain backward compatibility