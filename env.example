# =============================================================================
# LOOTAURA ENVIRONMENT CONFIGURATION
# =============================================================================
# 
# âš ï¸  IMPORTANT: This file is DOCUMENTATION ONLY
# 
# - This file contains NO real secrets or API keys
# - All values shown are placeholders (e.g., "your_key_here")
# - Copy this file to .env.local and fill in your actual values
# - Never commit .env.local or any .env* files to version control
#
# SECURITY NOTES:
# - Variables marked "SERVER-ONLY" must NEVER be exposed to the browser
# - Variables marked "PUBLIC" are safe to expose in client-side code
# - Variables marked "SECRET" contain sensitive credentials
# =============================================================================

# =============================================================================
# ðŸ”´ SERVER-ONLY VARIABLES (NEVER EXPOSE TO CLIENT)
# =============================================================================
# These variables are only used server-side and must never be exposed to the
# browser. They contain sensitive credentials and should be kept secret.
# =============================================================================

# -----------------------------------------------------------------------------
# Supabase Service Role Key (SECRET - SERVER-ONLY)
# -----------------------------------------------------------------------------
# WARNING: This key bypasses Row Level Security (RLS) and should ONLY be used
# server-side. Never expose this to client-side code.
# Get this from: Supabase project settings > API > Service Role Key
SUPABASE_SERVICE_ROLE=your_supabase_service_role_key_here

# -----------------------------------------------------------------------------
# Resend API Key (SECRET - SERVER-ONLY)
# -----------------------------------------------------------------------------
# Used for sending transactional emails via Resend
# Get this from: Resend dashboard > API Keys
RESEND_API_KEY=your_resend_api_key_here

# Resend From Email Address
# Must be a verified domain in your Resend account
RESEND_FROM_EMAIL=no-reply@lootaura.com

# Enable Email Sending
# - true: Enable email sending (production/preview)
# - false or unset: Disable email sending (development, safe for local testing)
LOOTAURA_ENABLE_EMAILS=true

# -----------------------------------------------------------------------------
# VAPID Private Key (SECRET - SERVER-ONLY)
# -----------------------------------------------------------------------------
# Used for push notification authentication
# Generate with: npx web-push generate-vapid-keys
# Keep this key secret - never expose to client
VAPID_PRIVATE_KEY=your_vapid_private_key_here

# -----------------------------------------------------------------------------
# Upstash Redis Configuration (SECRET - SERVER-ONLY)
# -----------------------------------------------------------------------------
# Optional: If not provided, rate limiting will use in-memory store
# Get these from: Upstash Redis database dashboard
UPSTASH_REDIS_REST_URL=your_upstash_redis_url_here
UPSTASH_REDIS_REST_TOKEN=your_upstash_redis_token_here

# -----------------------------------------------------------------------------
# Rate Limiting Control (SERVER-ONLY)
# -----------------------------------------------------------------------------
# Enable/disable production rate limiting
# - true: Enable rate limiting in production
# - false: Disable rate limiting (default for dev/test)
RATE_LIMITING_ENABLED=true

# -----------------------------------------------------------------------------
# Geocoding Configuration (SERVER-ONLY)
# -----------------------------------------------------------------------------
# Email for Nominatim API politeness (required by OSM usage policy)
# All Nominatim requests include User-Agent header: "LootAura/1.0 ({email})"
NOMINATIM_APP_EMAIL=your_email@example.com

# Mapbox Geocoding Endpoint
MAPBOX_GEOCODING_ENDPOINT=https://api.mapbox.com/geocoding/v5/mapbox.places

# ZIP Code Writeback Configuration
# Enable automatic writeback of Nominatim results to database for future lookups
ENABLE_ZIP_WRITEBACK=true

# -----------------------------------------------------------------------------
# Development & Testing (SERVER-ONLY)
# -----------------------------------------------------------------------------
# Manual Location Override (DEVELOPMENT ONLY)
# Format: "lat,lng,city" (e.g., "38.2527,-85.7585,Louisville")
# Used for testing geolocation functionality
MANUAL_LOCATION_OVERRIDE=

# =============================================================================
# ðŸ”µ PUBLIC VARIABLES (SAFE TO EXPOSE TO CLIENT)
# =============================================================================
# These variables are exposed to the browser via NEXT_PUBLIC_* prefix.
# They are safe to use in client-side code and will be included in browser bundles.
# =============================================================================

# -----------------------------------------------------------------------------
# Supabase Configuration (PUBLIC)
# -----------------------------------------------------------------------------
# Supabase Project URL
# Get this from: Supabase project settings
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co

# Supabase Anonymous Key (PUBLIC)
# This key is safe to expose - it's designed for client-side use with RLS policies
# Get this from: Supabase project settings > API > anon/public key
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key_here

# Supabase Schema Selection
# - 'public': Legacy schema (default for existing production builds)
# - 'lootaura_v2': New V2 schema (default for new deployments)
# - Not set: Falls back to 'public' schema for backward compatibility
NEXT_PUBLIC_SUPABASE_SCHEMA=lootaura_v2

# -----------------------------------------------------------------------------
# Mapbox Configuration (PUBLIC)
# -----------------------------------------------------------------------------
# Mapbox Access Token (PUBLIC)
# Required for map functionality
# Get this from: Mapbox account > Access Tokens
# Note: Restrict token to your domains when possible for security
NEXT_PUBLIC_MAPBOX_ACCESS_TOKEN=pk.eyJ...your_public_token...

# -----------------------------------------------------------------------------
# Cloudinary Configuration (PUBLIC - Optional)
# -----------------------------------------------------------------------------
# Cloudinary Cloud Name
# Get this from: Cloudinary dashboard
NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME=your_cloud_name

# Cloudinary Upload Preset
# Create an unsigned upload preset in your Cloudinary dashboard
NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET=your_upload_preset

# -----------------------------------------------------------------------------
# Push Notifications (PUBLIC)
# -----------------------------------------------------------------------------
# VAPID Public Key (PUBLIC)
# Generate with: npx web-push generate-vapid-keys
# This key is safe to expose - it's the public half of the VAPID key pair
NEXT_PUBLIC_VAPID_PUBLIC_KEY=your_vapid_public_key_here

# -----------------------------------------------------------------------------
# Monitoring & Analytics (PUBLIC)
# -----------------------------------------------------------------------------
# Sentry DSN (PUBLIC)
# Used for error tracking and monitoring
# Get this from: Sentry project settings
NEXT_PUBLIC_SENTRY_DSN=your_sentry_dsn_here

# -----------------------------------------------------------------------------
# Site Configuration (PUBLIC)
# -----------------------------------------------------------------------------
# Site URL
# Used for canonical URLs and social sharing
NEXT_PUBLIC_SITE_URL=https://lootaura.com

# -----------------------------------------------------------------------------
# Authentication (PUBLIC)
# -----------------------------------------------------------------------------
# Google OAuth
# Enable/disable Google OAuth sign-in button
# - true: Enable Google OAuth (default)
# - false: Disable Google OAuth
NEXT_PUBLIC_GOOGLE_ENABLED=true

# =============================================================================
# ðŸŸ¡ OPTIONAL / FEATURE FLAGS
# =============================================================================
# These variables control optional features and can be safely toggled.
# All are PUBLIC (exposed to client) and safe to change without breaking functionality.
# =============================================================================

# -----------------------------------------------------------------------------
# Map Clustering (PUBLIC - Feature Flag)
# -----------------------------------------------------------------------------
# Enable/disable client-side clustering for map markers
# - true: Enable clustering (default)
# - false: Disable clustering (fallback to individual markers)
NEXT_PUBLIC_FEATURE_CLUSTERING=true

# -----------------------------------------------------------------------------
# Debug Mode (PUBLIC - Feature Flag)
# -----------------------------------------------------------------------------
# Enable/disable debug logging for development
# - true: Enable debug logs
# - false: Disable debug logs (default, recommended for production)
NEXT_PUBLIC_DEBUG=false

# -----------------------------------------------------------------------------
# Saved Presets (PUBLIC - Feature Flag)
# -----------------------------------------------------------------------------
# Enable/disable saved search presets functionality
# - true: Enable preset menu and local/cloud storage
# - false: Disable preset functionality (default)
NEXT_PUBLIC_FLAG_SAVED_PRESETS=true

# -----------------------------------------------------------------------------
# Test/Demo Sales (PUBLIC - Feature Flag)
# -----------------------------------------------------------------------------
# Enable/disable demo sales on landing page
# - true: Show demo sales on landing page when real sales are empty
# - false: Disable demo sales (default)
# Note: Demo sales are UI-only and never appear in map pins or API responses
NEXT_PUBLIC_ENABLE_TEST_SALES=false

# =============================================================================
# LEGACY CONFIGURATION (DEPRECATED)
# =============================================================================
# The following variables are from the legacy system and may be removed in
# future versions:
# - All legacy Supabase tables are in the 'public' schema
# - Legacy API routes use the original table structure
# - Legacy components use the original data models
# =============================================================================

# =============================================================================
# SCHEMA MIGRATION NOTES
# =============================================================================
#
# LEGACY SCHEMA (public):
# - Tables: yard_sales, profiles (old), account_deletion_requests
# - Used by: Existing production deployments
# - Migration: Gradual migration to lootaura_v2 schema
#
# V2 SCHEMA (lootaura_v2):
# - Tables: profiles, sales, items, favorites
# - Features: Enhanced RLS, performance indexes, updated_at triggers
# - Used by: New deployments and pivot/property-pulse branch
#
# BACKWARD COMPATIBILITY:
# - If NEXT_PUBLIC_SUPABASE_SCHEMA is not set, defaults to 'public'
# - Existing production builds continue to work unchanged
# - New features can use schema-qualified table names
# - Gradual migration path available
# =============================================================================

# =============================================================================
# DEPLOYMENT STRATEGY
# =============================================================================
#
# PRODUCTION (Legacy):
# - Keep NEXT_PUBLIC_SUPABASE_SCHEMA unset or set to 'public'
# - Maintains existing functionality
# - No breaking changes
#
# PRODUCTION (V2):
# - Set NEXT_PUBLIC_SUPABASE_SCHEMA=lootaura_v2
# - Apply database migration
# - Deploy with new schema configuration
#
# DEVELOPMENT:
# - Use lootaura_v2 schema for new features
# - Test both schemas as needed
# - Maintain backward compatibility
# =============================================================================
