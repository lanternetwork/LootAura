Run npm run test
  npm run test
  shell: /usr/bin/bash -e {0}
  env:
    NEXT_PUBLIC_SUPABASE_URL: ***
    NEXT_PUBLIC_SUPABASE_ANON_KEY: ***
    NEXT_PUBLIC_SUPABASE_SCHEMA: public
    NEXT_PUBLIC_DEBUG: true

> yard-sale-finder@0.1.0 test
> NODE_OPTIONS='--max-old-space-size=8192 --expose-gc' vitest run

The CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.

 RUN  v2.1.9 /home/runner/work/LootAura/LootAura

 ✓ tests/integration/categoryFilters.test.ts (22 tests) 12ms
stdout | tests/components/AddSaleForm.a11y.test.tsx > AddSaleForm Accessibility > should support form submission with Enter key
[usage] geocode call (count=1)

 ❯ tests/components/AddSaleForm.a11y.test.tsx (11 tests | 11 failed) 455ms
   × AddSaleForm Accessibility > should have proper form labels and structure 78ms
     → Invalid Chai property: toBeInTheDocument
   × AddSaleForm Accessibility > should have proper input types and attributes 17ms
     → Invalid Chai property: toHaveAttribute
   × AddSaleForm Accessibility > should have proper button roles and labels 29ms
     → Invalid Chai property: toBeInTheDocument
   × AddSaleForm Accessibility > should support keyboard navigation 46ms
     → Invalid Chai property: toHaveFocus
   × AddSaleForm Accessibility > should support form submission with Enter key 186ms
     → Invalid Chai property: toBeInTheDocument
   × AddSaleForm Accessibility > should support adding tags with Enter key 57ms
     → Invalid Chai property: toBeInTheDocument
   × AddSaleForm Accessibility > should have proper error handling and announcements 7ms
     → Invalid Chai property: toBeInTheDocument
   × AddSaleForm Accessibility > should have proper fieldset and legend structure for grouped fields 8ms
     → Invalid Chai property: toBeInTheDocument
   × AddSaleForm Accessibility > should have proper focus management 10ms
     → Invalid Chai property: toHaveFocus
   × AddSaleForm Accessibility > should have proper ARIA attributes 9ms
     → Invalid Chai property: toBeInTheDocument
   × AddSaleForm Accessibility > should support screen reader navigation 7ms
     → Invalid Chai property: toBeInTheDocument
 ✓ tests/unit/categoryNormalizer.test.ts (34 tests) 10ms
 ✓ tests/integration/category-filters.test.ts (16 tests) 5ms
 ✓ tests/unit/server-stabilization.test.ts (14 tests) 3ms
 ✓ tests/unit/categoryNormalization.test.ts (16 tests) 4ms
 ✓ tests/unit/stabilization.test.ts (21 tests) 3ms
 ✓ tests/unit/arbiterDecisions.test.ts (14 tests) 2ms
 ✓ tests/integration/stabilization.spec.ts (16 tests) 4ms
stderr | tests/components/SalesGrid.test.tsx > SalesGrid > renders sales cards when not loading and sales are present
Error: Uncaught [ReferenceError: ResizeObserver is not defined]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at reportUncaughtErrorInDEV (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:22877:5)
    at captureCommitPhaseError (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27165:5) ReferenceError: ResizeObserver is not defined
    at /home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:51:28
    at commitHookEffectListMount (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitPassiveMountOnFiber (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
    at commitPassiveMountEffects_complete (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
    at commitPassiveMountEffects_begin (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
    at commitPassiveMountEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
    at flushPassiveEffectsImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
    at flushPassiveEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
    at commitRootImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26974:5)
    at commitRoot (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26721:5)
The above error occurred in the <SalesGrid> component:

    at SalesGrid (/home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:11:3)
    at QueryClientProvider (file:///home/runner/work/LootAura/LootAura/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at wrapper (/home/runner/work/LootAura/LootAura/tests/utils/renderWithProviders.tsx:11:22)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | tests/components/SalesGrid.test.tsx > SalesGrid > renders skeletons when loading and not in MAP authority
Error: Uncaught [ReferenceError: ResizeObserver is not defined]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at reportUncaughtErrorInDEV (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:22877:5)
    at captureCommitPhaseError (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27165:5) ReferenceError: ResizeObserver is not defined
    at /home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:51:28
    at commitHookEffectListMount (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitPassiveMountOnFiber (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
    at commitPassiveMountEffects_complete (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
    at commitPassiveMountEffects_begin (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
    at commitPassiveMountEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
    at flushPassiveEffectsImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
    at flushPassiveEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
    at commitRootImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26974:5)
    at commitRoot (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26721:5)
The above error occurred in the <SalesGrid> component:

    at SalesGrid (/home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:11:3)
    at QueryClientProvider (file:///home/runner/work/LootAura/LootAura/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at wrapper (/home/runner/work/LootAura/LootAura/tests/utils/renderWithProviders.tsx:11:22)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | tests/components/SalesGrid.test.tsx > SalesGrid > renders empty state message when no sales and not loading
Error: Uncaught [ReferenceError: ResizeObserver is not defined]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at reportUncaughtErrorInDEV (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:22877:5)
    at captureCommitPhaseError (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27165:5) ReferenceError: ResizeObserver is not defined
    at /home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:51:28
    at commitHookEffectListMount (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitPassiveMountOnFiber (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
    at commitPassiveMountEffects_complete (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
    at commitPassiveMountEffects_begin (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
    at commitPassiveMountEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
    at flushPassiveEffectsImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
    at flushPassiveEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
    at commitRootImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26974:5)
    at commitRoot (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26721:5)
The above error occurred in the <SalesGrid> component:

    at SalesGrid (/home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:11:3)
    at QueryClientProvider (file:///home/runner/work/LootAura/LootAura/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at wrapper (/home/runner/work/LootAura/LootAura/tests/utils/renderWithProviders.tsx:11:22)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | tests/components/SalesGrid.test.tsx > SalesGrid > does not render skeletons when in MAP authority, even if loading
Error: Uncaught [ReferenceError: ResizeObserver is not defined]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at reportUncaughtErrorInDEV (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:22877:5)
    at captureCommitPhaseError (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27165:5) ReferenceError: ResizeObserver is not defined
    at /home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:51:28
    at commitHookEffectListMount (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitPassiveMountOnFiber (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
    at commitPassiveMountEffects_complete (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
    at commitPassiveMountEffects_begin (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
    at commitPassiveMountEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
    at flushPassiveEffectsImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
    at flushPassiveEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
    at commitRootImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26974:5)
    at commitRoot (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26721:5)
The above error occurred in the <SalesGrid> component:

    at SalesGrid (/home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:11:3)
    at QueryClientProvider (file:///home/runner/work/LootAura/LootAura/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at wrapper (/home/runner/work/LootAura/LootAura/tests/utils/renderWithProviders.tsx:11:22)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | tests/components/SalesGrid.test.tsx > SalesGrid > observes resize events and updates columns
Error: Uncaught [ReferenceError: ResizeObserver is not defined]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at reportUncaughtErrorInDEV (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:22877:5)
    at captureCommitPhaseError (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27165:5) ReferenceError: ResizeObserver is not defined
    at /home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:51:28
    at commitHookEffectListMount (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitPassiveMountOnFiber (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
    at commitPassiveMountEffects_complete (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
    at commitPassiveMountEffects_begin (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
    at commitPassiveMountEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
    at flushPassiveEffectsImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
    at flushPassiveEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
    at commitRootImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26974:5)
    at commitRoot (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26721:5)
The above error occurred in the <SalesGrid> component:

    at SalesGrid (/home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:11:3)
    at QueryClientProvider (file:///home/runner/work/LootAura/LootAura/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at wrapper (/home/runner/work/LootAura/LootAura/tests/utils/renderWithProviders.tsx:11:22)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | tests/components/SalesGrid.test.tsx > SalesGrid > cleans up ResizeObserver on unmount
Error: Uncaught [ReferenceError: ResizeObserver is not defined]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at reportUncaughtErrorInDEV (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:22877:5)
    at captureCommitPhaseError (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27165:5) ReferenceError: ResizeObserver is not defined
    at /home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:51:28
    at commitHookEffectListMount (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitPassiveMountOnFiber (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
    at commitPassiveMountEffects_complete (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
    at commitPassiveMountEffects_begin (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
    at commitPassiveMountEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
    at flushPassiveEffectsImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
    at flushPassiveEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
    at commitRootImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26974:5)
    at commitRoot (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26721:5)
The above error occurred in the <SalesGrid> component:

    at SalesGrid (/home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:11:3)
    at QueryClientProvider (file:///home/runner/work/LootAura/LootAura/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at wrapper (/home/runner/work/LootAura/LootAura/tests/utils/renderWithProviders.tsx:11:22)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | tests/components/SalesGrid.test.tsx > SalesGrid > applies custom className
Error: Uncaught [ReferenceError: ResizeObserver is not defined]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at reportUncaughtErrorInDEV (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:22877:5)
    at captureCommitPhaseError (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27165:5) ReferenceError: ResizeObserver is not defined
    at /home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:51:28
    at commitHookEffectListMount (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitPassiveMountOnFiber (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
    at commitPassiveMountEffects_complete (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
    at commitPassiveMountEffects_begin (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
    at commitPassiveMountEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
    at flushPassiveEffectsImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
    at flushPassiveEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
    at commitRootImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26974:5)
    at commitRoot (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26721:5)
The above error occurred in the <SalesGrid> component:

    at SalesGrid (/home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:11:3)
    at QueryClientProvider (file:///home/runner/work/LootAura/LootAura/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at wrapper (/home/runner/work/LootAura/LootAura/tests/utils/renderWithProviders.tsx:11:22)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | tests/components/SalesGrid.test.tsx > SalesGrid > sets correct data attributes
Error: Uncaught [ReferenceError: ResizeObserver is not defined]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at reportUncaughtErrorInDEV (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:22877:5)
    at captureCommitPhaseError (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27165:5) ReferenceError: ResizeObserver is not defined
    at /home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:51:28
    at commitHookEffectListMount (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitPassiveMountOnFiber (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
    at commitPassiveMountEffects_complete (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
    at commitPassiveMountEffects_begin (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
    at commitPassiveMountEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
    at flushPassiveEffectsImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
    at flushPassiveEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
    at commitRootImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26974:5)
    at commitRoot (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26721:5)
The above error occurred in the <SalesGrid> component:

    at SalesGrid (/home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:11:3)
    at QueryClientProvider (file:///home/runner/work/LootAura/LootAura/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at wrapper (/home/runner/work/LootAura/LootAura/tests/utils/renderWithProviders.tsx:11:22)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

 ❯ tests/components/SalesGrid.test.tsx (8 tests | 8 failed) 37ms
   × SalesGrid > renders sales cards when not loading and sales are present 13ms
     → ResizeObserver is not defined
   × SalesGrid > renders skeletons when loading and not in MAP authority 4ms
     → ResizeObserver is not defined
   × SalesGrid > renders empty state message when no sales and not loading 3ms
     → ResizeObserver is not defined
   × SalesGrid > does not render skeletons when in MAP authority, even if loading 6ms
     → ResizeObserver is not defined
   × SalesGrid > observes resize events and updates columns 3ms
     → ResizeObserver is not defined
   × SalesGrid > cleans up ResizeObserver on unmount 2ms
     → ResizeObserver is not defined
   × SalesGrid > applies custom className 2ms
     → ResizeObserver is not defined
   × SalesGrid > sets correct data attributes 2ms
     → ResizeObserver is not defined
 ❯ tests/integration/rls.owner.test.ts (6 tests | 6 failed) 5ms
   × RLS and Owner Permissions > should set owner_id to auth.uid() when inserting sale 3ms
     → supabase.auth.getUser.mockResolvedValue is not a function
   × RLS and Owner Permissions > should allow public read access to sales list 1ms
     → supabase.auth.getUser.mockResolvedValue is not a function
   × RLS and Owner Permissions > should allow owner to update their own sale 1ms
     → supabase.auth.getUser.mockResolvedValue is not a function
   × RLS and Owner Permissions > should prevent non-owner from updating sale 0ms
     → supabase.auth.getUser.mockResolvedValue is not a function
   × RLS and Owner Permissions > should allow owner to delete their own sale 0ms
     → supabase.auth.getUser.mockResolvedValue is not a function
   × RLS and Owner Permissions > should prevent non-owner from deleting sale 0ms
     → supabase.auth.getUser.mockResolvedValue is not a function
 ✓ tests/unit/category-serialization.test.ts (16 tests) 3ms
 ✓ tests/unit/addSale.validation.test.ts (9 tests) 4ms
 ✓ tests/unit/dateBounds.test.ts (21 tests) 3ms
stdout | tests/integration/addSale.insert.test.tsx
[2025-10-15T16:16:01.842Z] [INFO] [AddSaleForm] [geocode_fallback] Address geocoded via fallback geocoder {"component":"AddSaleForm","operation":"geocode_fallback","address":"123 Test St","lat":41.2600717,"lng":-95.8429507,"geocoder":"nominatim"}

 ❯ tests/integration/addSale.insert.test.tsx (7 tests | 6 failed) 84ms
   × Add Sale Integration > should handle geocoding failure gracefully 15ms
     → Found multiple elements with the role "button" and name `/post sale/i`

Here are the matching elements:

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
</body>
   × Add Sale Integration > should validate required fields before submission 13ms
     → Found multiple elements with the role "button" and name `/post sale/i`

Here are the matching elements:

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
</body>
   × Add Sale Integration > should show loading state during submission 4ms
     → Found multiple elements with the text: Posting...

Here are the matching elements:

Ignored nodes: comments, script, style
<div>
  Posting...
</div>

Ignored nodes: comments, script, style
<div>
  Posting...
</div>

Ignored nodes: comments, script, style
<div>
  Posting...
</div>

Ignored nodes: comments, script, style
<div>
  Posting...
</div>

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
</body>
   × Add Sale Integration > should handle submission errors 14ms
     → Found multiple elements with the role "button" and name `/post sale/i`

Here are the matching elements:

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
</body>
   × Add Sale Integration > should include owner_id in inserted data 23ms
     → Found multiple elements with the role "button" and name `/post sale/i`

Here are the matching elements:

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
</body>
   × Add Sale Integration > should update React Query cache after successful creation 7ms
     → Found multiple elements with the text: Post Your Sale

Here are the matching elements:

Ignored nodes: comments, script, style
<h1>
  Post Your Sale
</h1>

Ignored nodes: comments, script, style
<h1>
  Post Your Sale
</h1>

Ignored nodes: comments, script, style
<h1>
  Post Your Sale
</h1>

Ignored nodes: comments, script, style
<h1>
  Post Your Sale
</h1>

Ignored nodes: comments, script, style
<h1>
  Post Your Sale
</h1>

Ignored nodes: comments, script, style
<h1>
  Post Your Sale
</h1>

Ignored nodes: comments, script, style
<h1>
  Post Your Sale
</h1>

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
</body>
 ✓ tests/unit/sanitize.test.ts (26 tests) 19ms
stderr | tests/integration/gridLayout.integration.test.tsx > Grid Layout Integration > should render sales as direct children of grid container
Error: Uncaught [ReferenceError: ResizeObserver is not defined]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at reportUncaughtErrorInDEV (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:22877:5)
    at captureCommitPhaseError (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27165:5) ReferenceError: ResizeObserver is not defined
    at /home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:51:28
    at commitHookEffectListMount (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitPassiveMountOnFiber (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
    at commitPassiveMountEffects_complete (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
    at commitPassiveMountEffects_begin (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
    at commitPassiveMountEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
    at flushPassiveEffectsImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
    at flushPassiveEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
    at commitRootImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26974:5)
    at commitRoot (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26721:5)
The above error occurred in the <SalesGrid> component:

    at SalesGrid (/home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:11:3)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | tests/integration/gridLayout.integration.test.tsx > Grid Layout Integration > should have correct grid classes at different breakpoints
Error: Uncaught [ReferenceError: ResizeObserver is not defined]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at reportUncaughtErrorInDEV (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:22877:5)
    at captureCommitPhaseError (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27165:5) ReferenceError: ResizeObserver is not defined
    at /home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:51:28
    at commitHookEffectListMount (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitPassiveMountOnFiber (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
    at commitPassiveMountEffects_complete (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
    at commitPassiveMountEffects_begin (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
    at commitPassiveMountEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
    at flushPassiveEffectsImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
    at flushPassiveEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
    at commitRootImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26974:5)
    at commitRoot (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26721:5)
The above error occurred in the <SalesGrid> component:

    at SalesGrid (/home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:11:3)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | tests/integration/gridLayout.integration.test.tsx > Grid Layout Integration > should not have wrapper divs around sale cards
Error: Uncaught [ReferenceError: ResizeObserver is not defined]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at reportUncaughtErrorInDEV (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:22877:5)
    at captureCommitPhaseError (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27165:5) ReferenceError: ResizeObserver is not defined
    at /home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:51:28
    at commitHookEffectListMount (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitPassiveMountOnFiber (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
    at commitPassiveMountEffects_complete (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
    at commitPassiveMountEffects_begin (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
    at commitPassiveMountEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
    at flushPassiveEffectsImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
    at flushPassiveEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
    at commitRootImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26974:5)
    at commitRoot (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26721:5)
The above error occurred in the <SalesGrid> component:

    at SalesGrid (/home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:11:3)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | tests/integration/gridLayout.integration.test.tsx > Grid Layout Integration > should maintain grid layout during loading states
Error: Uncaught [ReferenceError: ResizeObserver is not defined]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at reportUncaughtErrorInDEV (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:22877:5)
    at captureCommitPhaseError (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27165:5) ReferenceError: ResizeObserver is not defined
    at /home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:51:28
    at commitHookEffectListMount (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitPassiveMountOnFiber (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
    at commitPassiveMountEffects_complete (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
    at commitPassiveMountEffects_begin (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
    at commitPassiveMountEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
    at flushPassiveEffectsImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
    at flushPassiveEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
    at commitRootImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26974:5)
    at commitRoot (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26721:5)
The above error occurred in the <SalesGrid> component:

    at SalesGrid (/home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:11:3)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | tests/integration/gridLayout.integration.test.tsx > Grid Layout Integration > should handle empty state without breaking grid
Error: Uncaught [ReferenceError: ResizeObserver is not defined]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at reportUncaughtErrorInDEV (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:22877:5)
    at captureCommitPhaseError (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27165:5) ReferenceError: ResizeObserver is not defined
    at /home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:51:28
    at commitHookEffectListMount (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitPassiveMountOnFiber (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
    at commitPassiveMountEffects_complete (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
    at commitPassiveMountEffects_begin (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
    at commitPassiveMountEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
    at flushPassiveEffectsImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
    at flushPassiveEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
    at commitRootImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26974:5)
    at commitRoot (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26721:5)
The above error occurred in the <SalesGrid> component:

    at SalesGrid (/home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:11:3)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | tests/integration/gridLayout.integration.test.tsx > Grid Layout Integration > should not have multiple column-defining classes
Error: Uncaught [ReferenceError: ResizeObserver is not defined]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at reportUncaughtErrorInDEV (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:22877:5)
    at captureCommitPhaseError (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27165:5) ReferenceError: ResizeObserver is not defined
    at /home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:51:28
    at commitHookEffectListMount (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitPassiveMountOnFiber (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
    at commitPassiveMountEffects_complete (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
    at commitPassiveMountEffects_begin (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
    at commitPassiveMountEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
    at flushPassiveEffectsImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
    at flushPassiveEffects (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
    at commitRootImpl (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26974:5)
    at commitRoot (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26721:5)
The above error occurred in the <SalesGrid> component:

    at SalesGrid (/home/runner/work/LootAura/LootAura/components/SalesGrid.tsx:11:3)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

 ❯ tests/integration/gridLayout.integration.test.tsx (6 tests | 6 failed) 15ms
   × Grid Layout Integration > should render sales as direct children of grid container 4ms
     → ResizeObserver is not defined
   × Grid Layout Integration > should have correct grid classes at different breakpoints 3ms
     → ResizeObserver is not defined
   × Grid Layout Integration > should not have wrapper divs around sale cards 2ms
     → ResizeObserver is not defined
   × Grid Layout Integration > should maintain grid layout during loading states 2ms
     → ResizeObserver is not defined
   × Grid Layout Integration > should handle empty state without breaking grid 1ms
     → ResizeObserver is not defined
   × Grid Layout Integration > should not have multiple column-defining classes 2ms
     → ResizeObserver is not defined
 ✓ tests/unit/gridLayout.test.ts (6 tests) 2ms
 ❯ tests/unit/env.test.ts (9 tests | 1 failed) 22ms
   × Environment Validation > should handle missing optional variables 3ms
     → expected undefined to be 'https://lootaura.app' // Object.is equality
 ✓ tests/stability/list.dom.spec.tsx (6 tests) 20ms
stderr | onSubmit (/home/runner/work/LootAura/LootAura/components/AddSaleForm.tsx:123:15)
Error posting sale: Error: Could not find the 'address' column of 'sales_v2' in the schema cache
    at Object.mutationFn (/home/runner/work/LootAura/LootAura/lib/hooks/useSales.ts:133:15)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)

 ✓ tests/unit/metadata.test.ts (8 tests) 17ms
 ✓ tests/unit/mapAuthorityQuery.test.ts (7 tests) 2ms
 ✓ tests/unit/resolveDatePreset.test.ts (13 tests) 2ms
 ✓ tests/integration/auth.session.test.tsx (12 tests) 2ms
stderr | tests/unit/geocode.fallback.test.ts > Geocoding Fallback > should geocode address using Nominatim
Geocoding error: TypeError: Cannot read properties of undefined (reading 'json')
    at geocodeWithNominatim (/home/runner/work/LootAura/LootAura/lib/geocode.ts:49:31)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at Module.geocodeAddress (/home/runner/work/LootAura/LootAura/lib/geocode.ts:28:20)
    at /home/runner/work/LootAura/LootAura/tests/unit/geocode.fallback.test.ts:28:20
    at file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1271:3)

stderr | tests/unit/geocode.fallback.test.ts > Geocoding Fallback > should return null when Nominatim fails
Geocoding error: TypeError: Cannot read properties of undefined (reading 'json')
    at geocodeWithNominatim (/home/runner/work/LootAura/LootAura/lib/geocode.ts:49:31)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at Module.geocodeAddress (/home/runner/work/LootAura/LootAura/lib/geocode.ts:28:20)
    at /home/runner/work/LootAura/LootAura/tests/unit/geocode.fallback.test.ts:43:20
    at file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1271:3)

stderr | tests/unit/geocode.fallback.test.ts > Geocoding Fallback > should geocode address with valid input
Geocoding error: TypeError: Cannot read properties of undefined (reading 'json')
    at geocodeWithNominatim (/home/runner/work/LootAura/LootAura/lib/geocode.ts:49:31)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at Module.geocodeAddress (/home/runner/work/LootAura/LootAura/lib/geocode.ts:28:20)
    at /home/runner/work/LootAura/LootAura/tests/unit/geocode.fallback.test.ts:52:20
    at file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1271:3)

stderr | tests/unit/geocode.fallback.test.ts > Geocoding Fallback > should handle Nominatim rate limiting gracefully
Geocoding error: TypeError: Cannot read properties of undefined (reading 'json')
    at geocodeWithNominatim (/home/runner/work/LootAura/LootAura/lib/geocode.ts:49:31)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at Module.geocodeAddress (/home/runner/work/LootAura/LootAura/lib/geocode.ts:28:20)
    at /home/runner/work/LootAura/LootAura/tests/unit/geocode.fallback.test.ts:68:20
    at file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1271:3)

stderr | tests/unit/geocode.fallback.test.ts > Geocoding Fallback > should include proper headers for Nominatim requests
Geocoding error: TypeError: Cannot read properties of undefined (reading 'json')
    at geocodeWithNominatim (/home/runner/work/LootAura/LootAura/lib/geocode.ts:49:31)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at Module.geocodeAddress (/home/runner/work/LootAura/LootAura/lib/geocode.ts:28:20)
    at /home/runner/work/LootAura/LootAura/tests/unit/geocode.fallback.test.ts:81:20
    at file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1271:3)

stderr | tests/unit/geocode.fallback.test.ts > Geocoding Fallback > should cache results to avoid repeated API calls
Geocoding error: TypeError: Cannot read properties of undefined (reading 'json')
    at geocodeWithNominatim (/home/runner/work/LootAura/LootAura/lib/geocode.ts:49:31)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at Module.geocodeAddress (/home/runner/work/LootAura/LootAura/lib/geocode.ts:28:20)
    at /home/runner/work/LootAura/LootAura/tests/unit/geocode.fallback.test.ts:102:21
    at file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1271:3)

stderr | tests/unit/geocode.fallback.test.ts > Geocoding Fallback > should handle malformed Nominatim responses
Geocoding error: TypeError: Cannot read properties of undefined (reading 'json')
    at geocodeWithNominatim (/home/runner/work/LootAura/LootAura/lib/geocode.ts:49:31)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at Module.geocodeAddress (/home/runner/work/LootAura/LootAura/lib/geocode.ts:28:20)
    at /home/runner/work/LootAura/LootAura/tests/unit/geocode.fallback.test.ts:112:20
    at file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1271:3)

stderr | tests/unit/geocode.fallback.test.ts > Geocoding Fallback > should handle network errors gracefully
Geocoding error: TypeError: Cannot read properties of undefined (reading 'json')
    at geocodeWithNominatim (/home/runner/work/LootAura/LootAura/lib/geocode.ts:49:31)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at Module.geocodeAddress (/home/runner/work/LootAura/LootAura/lib/geocode.ts:28:20)
    at /home/runner/work/LootAura/LootAura/tests/unit/geocode.fallback.test.ts:119:20
    at file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///home/runner/work/LootAura/LootAura/node_modules/@vitest/runner/dist/index.js:1271:3)

 ❯ tests/unit/geocode.fallback.test.ts (8 tests | 4 failed) 11ms
   × Geocoding Fallback > should geocode address using Nominatim 3ms
     → expected null to deeply equal { lat: 38.1405, lng: -85.6936, …(4) }
   × Geocoding Fallback > should geocode address with valid input 1ms
     → expected null to deeply equal { lat: 38.1405, lng: -85.6936, …(4) }
   × Geocoding Fallback > should include proper headers for Nominatim requests 1ms
     → expected null to deeply equal { lat: 38.1405, lng: -85.6936, …(4) }
   × Geocoding Fallback > should cache results to avoid repeated API calls 1ms
     → expected null to be truthy
stdout | debouncedLog (/home/runner/work/LootAura/LootAura/lib/usageLogs.ts:50:11)
[usage] geocode call (count=1)

 ↓ tests/snapshots/gridContainer.snapshot.test.tsx (3 tests | 3 skipped)
 ✓ tests/stability/visible.recompute.spec.ts (5 tests) 1ms
 ✓ tests/unit/rateLimiter.test.ts (6 tests) 155ms
 ✓ tests/stability/arbiter.contract.spec.ts (4 tests) 1ms
 ✓ tests/integration/rls.profiles.test.ts (13 tests) 2ms
 ✓ tests/unit/date-windows.test.ts (6 tests) 3ms
stderr | tests/components/FavoriteButton.test.tsx > FavoriteButton > renders save button when not favorited
Error: Uncaught [Error: invariant expected app router to be mounted]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: invariant expected app router to be mounted
    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)
    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)
    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9) {
  stackStr: 'Error: invariant expected app router to be mounted\n' +
    '    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)\n' +
    '    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)\n' +
    '    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)\n' +
    '    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)\n' +
    '    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)\n' +
    '    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)\n' +
    '    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n' +
    '    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n' +
    '    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n' +
    '    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)',
  nameStr: 'Error',
  expected: 'undefined',
  actual: 'undefined'
}
Error: Uncaught [Error: invariant expected app router to be mounted]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: invariant expected app router to be mounted
    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)
    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)
    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9) {
  stackStr: 'Error: invariant expected app router to be mounted\n' +
    '    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)\n' +
    '    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)\n' +
    '    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)\n' +
    '    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)\n' +
    '    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)\n' +
    '    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)\n' +
    '    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n' +
    '    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n' +
    '    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n' +
    '    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)',
  nameStr: 'Error',
  expected: 'undefined',
  actual: 'undefined'
}
The above error occurred in the <FavoriteButton> component:

    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:11:3)
    at QueryClientProvider (file:///home/runner/work/LootAura/LootAura/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at TestWrapper (/home/runner/work/LootAura/LootAura/tests/components/FavoriteButton.test.tsx:33:24)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | tests/components/FavoriteButton.test.tsx > FavoriteButton > renders saved button when favorited
Error: Uncaught [Error: invariant expected app router to be mounted]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: invariant expected app router to be mounted
    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)
    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)
    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9) {
  stackStr: 'Error: invariant expected app router to be mounted\n' +
    '    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)\n' +
    '    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)\n' +
    '    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)\n' +
    '    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)\n' +
    '    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)\n' +
    '    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)\n' +
    '    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n' +
    '    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n' +
    '    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n' +
    '    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)',
  nameStr: 'Error',
  expected: 'undefined',
  actual: 'undefined'
}
Error: Uncaught [Error: invariant expected app router to be mounted]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: invariant expected app router to be mounted
    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)
    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)
    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9) {
  stackStr: 'Error: invariant expected app router to be mounted\n' +
    '    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)\n' +
    '    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)\n' +
    '    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)\n' +
    '    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)\n' +
    '    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)\n' +
    '    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)\n' +
    '    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n' +
    '    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n' +
    '    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n' +
    '    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)',
  nameStr: 'Error',
  expected: 'undefined',
  actual: 'undefined'
}
The above error occurred in the <FavoriteButton> component:

    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:11:3)
    at QueryClientProvider (file:///home/runner/work/LootAura/LootAura/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at TestWrapper (/home/runner/work/LootAura/LootAura/tests/components/FavoriteButton.test.tsx:33:24)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | tests/components/FavoriteButton.test.tsx > FavoriteButton > calls toggle function when clicked
Error: Uncaught [Error: invariant expected app router to be mounted]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: invariant expected app router to be mounted
    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)
    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)
    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9) {
  stackStr: 'Error: invariant expected app router to be mounted\n' +
    '    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)\n' +
    '    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)\n' +
    '    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)\n' +
    '    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)\n' +
    '    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)\n' +
    '    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)\n' +
    '    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n' +
    '    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n' +
    '    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n' +
    '    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)',
  nameStr: 'Error',
  expected: 'undefined',
  actual: 'undefined'
}
Error: Uncaught [Error: invariant expected app router to be mounted]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: invariant expected app router to be mounted
    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)
    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)
    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9) {
  stackStr: 'Error: invariant expected app router to be mounted\n' +
    '    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)\n' +
    '    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)\n' +
    '    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)\n' +
    '    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)\n' +
    '    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)\n' +
    '    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)\n' +
    '    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n' +
    '    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n' +
    '    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n' +
    '    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)',
  nameStr: 'Error',
  expected: 'undefined',
  actual: 'undefined'
}
The above error occurred in the <FavoriteButton> component:

    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:11:3)
    at QueryClientProvider (file:///home/runner/work/LootAura/LootAura/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at TestWrapper (/home/runner/work/LootAura/LootAura/tests/components/FavoriteButton.test.tsx:33:24)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | tests/components/FavoriteButton.test.tsx > FavoriteButton > shows loading state when pending
Error: Uncaught [Error: invariant expected app router to be mounted]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: invariant expected app router to be mounted
    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)
    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)
    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9) {
  stackStr: 'Error: invariant expected app router to be mounted\n' +
    '    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)\n' +
    '    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)\n' +
    '    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)\n' +
    '    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)\n' +
    '    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)\n' +
    '    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)\n' +
    '    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n' +
    '    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n' +
    '    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n' +
    '    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)',
  nameStr: 'Error',
  expected: 'undefined',
  actual: 'undefined'
}
Error: Uncaught [Error: invariant expected app router to be mounted]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: invariant expected app router to be mounted
    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)
    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)
    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9) {
  stackStr: 'Error: invariant expected app router to be mounted\n' +
    '    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)\n' +
    '    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)\n' +
    '    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)\n' +
    '    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)\n' +
    '    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)\n' +
    '    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)\n' +
    '    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n' +
    '    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n' +
    '    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n' +
    '    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)',
  nameStr: 'Error',
  expected: 'undefined',
  actual: 'undefined'
}
The above error occurred in the <FavoriteButton> component:

    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:11:3)
    at QueryClientProvider (file:///home/runner/work/LootAura/LootAura/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at TestWrapper (/home/runner/work/LootAura/LootAura/tests/components/FavoriteButton.test.tsx:33:24)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | tests/components/FavoriteButton.test.tsx > FavoriteButton > has correct ARIA attributes
Error: Uncaught [Error: invariant expected app router to be mounted]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: invariant expected app router to be mounted
    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)
    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)
    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9) {
  stackStr: 'Error: invariant expected app router to be mounted\n' +
    '    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)\n' +
    '    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)\n' +
    '    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)\n' +
    '    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)\n' +
    '    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)\n' +
    '    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)\n' +
    '    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n' +
    '    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n' +
    '    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n' +
    '    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)',
  nameStr: 'Error',
  expected: 'undefined',
  actual: 'undefined'
}
Error: Uncaught [Error: invariant expected app router to be mounted]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: invariant expected app router to be mounted
    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)
    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)
    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9) {
  stackStr: 'Error: invariant expected app router to be mounted\n' +
    '    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)\n' +
    '    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)\n' +
    '    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)\n' +
    '    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)\n' +
    '    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)\n' +
    '    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)\n' +
    '    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n' +
    '    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n' +
    '    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n' +
    '    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)',
  nameStr: 'Error',
  expected: 'undefined',
  actual: 'undefined'
}
The above error occurred in the <FavoriteButton> component:

    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:11:3)
    at QueryClientProvider (file:///home/runner/work/LootAura/LootAura/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at TestWrapper (/home/runner/work/LootAura/LootAura/tests/components/FavoriteButton.test.tsx:33:24)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

 ❯ tests/components/FavoriteButton.test.tsx (5 tests | 5 failed) 16ms
   × FavoriteButton > renders save button when not favorited 6ms
     → invariant expected app router to be mounted
   × FavoriteButton > renders saved button when favorited 3ms
     → invariant expected app router to be mounted
   × FavoriteButton > calls toggle function when clicked 3ms
     → invariant expected app router to be mounted
   × FavoriteButton > shows loading state when pending 2ms
     → invariant expected app router to be mounted
   × FavoriteButton > has correct ARIA attributes 3ms
     → invariant expected app router to be mounted
stderr | tests/unit/categoryContract.test.ts > Category Contract > toDbSet > should return normalized UI tokens when no mapping exists
[CATEGORY CONTRACT] No DB mapping cache available, using normalized UI tokens

 ✓ tests/stability/server.predicate.spec.ts (5 tests) 1ms
stdout | tests/unit/categoryContract.test.ts > Category Contract > toDbSet > should apply DB mapping when available
[CATEGORY CONTRACT] Built DB mapping: 3 mappings

stdout | tests/unit/categoryContract.test.ts > Category Contract > buildDbMapping > should build mapping from DB categories
[CATEGORY CONTRACT] Built DB mapping: 4 mappings

stdout | tests/unit/categoryContract.test.ts > Category Contract > buildDbMapping > should handle empty DB categories
[CATEGORY CONTRACT] Built DB mapping: 0 mappings

 ✓ tests/unit/categoryContract.test.ts (10 tests) 2ms
stdout | tests/unit/categoryContract.test.ts > Category Contract > hasDbMapping > should return true for mapped categories
[CATEGORY CONTRACT] Built DB mapping: 1 mappings

 ✓ tests/stability/filters.url-parity.spec.ts (3 tests) 1ms
stdout | tests/integration/sales-list.spec.tsx > SalesList Integration > should render sales list with proper grid layout
[DOM] list item rendered id= 1
[DOM] list item rendered id= 2
[DOM] item mounts id= 1
[DOM] item mounts id= 2
[DOM] list item rendered id= 1
[DOM] list item rendered id= 2
[DOM] item mounts id= 1
[DOM] item mounts id= 2

stderr | tests/integration/sales-list.spec.tsx > SalesList Integration > should render sales list with proper grid layout
Error: Uncaught [Error: invariant expected app router to be mounted]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: invariant expected app router to be mounted
    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)
    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)
    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9) {
  stackStr: 'Error: invariant expected app router to be mounted\n' +
    '    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)\n' +
    '    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)\n' +
    '    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)\n' +
    '    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)\n' +
    '    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)\n' +
    '    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)\n' +
    '    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n' +
    '    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n' +
    '    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n' +
    '    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)',
  nameStr: 'Error',
  expected: 'undefined',
  actual: 'undefined'
}
Error: Uncaught [Error: invariant expected app router to be mounted]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: invariant expected app router to be mounted
    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)
    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)
    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9) {
  stackStr: 'Error: invariant expected app router to be mounted\n' +
    '    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)\n' +
    '    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)\n' +
    '    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)\n' +
    '    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)\n' +
    '    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)\n' +
    '    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)\n' +
    '    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n' +
    '    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n' +
    '    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n' +
    '    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)',
  nameStr: 'Error',
  expected: 'undefined',
  actual: 'undefined'
}
Error: Uncaught [Error: invariant expected app router to be mounted]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: invariant expected app router to be mounted
    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)
    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)
    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9) {
  stackStr: 'Error: invariant expected app router to be mounted\n' +
    '    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)\n' +
    '    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)\n' +
    '    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)\n' +
    '    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)\n' +
    '    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)\n' +
    '    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)\n' +
    '    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n' +
    '    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n' +
    '    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n' +
    '    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)',
  nameStr: 'Error',
  expected: 'undefined',
  actual: 'undefined'
}
Error: Uncaught [Error: invariant expected app router to be mounted]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: invariant expected app router to be mounted
    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)
    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)
    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9) {
  stackStr: 'Error: invariant expected app router to be mounted\n' +
    '    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)\n' +
    '    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)\n' +
    '    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)\n' +
    '    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)\n' +
    '    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)\n' +
    '    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)\n' +
    '    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n' +
    '    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n' +
    '    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n' +
    '    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)',
  nameStr: 'Error',
  expected: 'undefined',
  actual: 'undefined'
}
The above error occurred in the <FavoriteButton> component:

    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:11:3)
    at div
    at article
    at SaleCard (/home/runner/work/LootAura/LootAura/components/SaleCard.tsx:7:21)
    at div
    at SalesList (/home/runner/work/LootAura/LootAura/components/SalesList.tsx:7:22)
    at QueryClientProvider (file:///home/runner/work/LootAura/LootAura/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at wrapper (/home/runner/work/LootAura/LootAura/tests/utils/renderWithProviders.tsx:11:22)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.
The above error occurred in the <FavoriteButton> component:

    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:11:3)
    at div
    at article
    at SaleCard (/home/runner/work/LootAura/LootAura/components/SaleCard.tsx:7:21)
    at div
    at SalesList (/home/runner/work/LootAura/LootAura/components/SalesList.tsx:7:22)
    at QueryClientProvider (file:///home/runner/work/LootAura/LootAura/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at wrapper (/home/runner/work/LootAura/LootAura/tests/utils/renderWithProviders.tsx:11:22)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | tests/integration/sales-list.spec.tsx > SalesList Integration > should filter sales by category
Error: Uncaught [Error: invariant expected app router to be mounted]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: invariant expected app router to be mounted
    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)
    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)
    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9) {
  stackStr: 'Error: invariant expected app router to be mounted\n' +
    '    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)\n' +
    '    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)\n' +
    '    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)\n' +
    '    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)\n' +
    '    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)\n' +
    '    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)\n' +
    '    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n' +
    '    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n' +
    '    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n' +
    '    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)',
  nameStr: 'Error',
  expected: 'undefined',
  actual: 'undefined'
}
Error: Uncaught [Error: invariant expected app router to be mounted]
    at reportException (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: invariant expected app router to be mounted
    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)
    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)
    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9) {
  stackStr: 'Error: invariant expected app router to be mounted\n' +
    '    at Proxy.useRouter (/home/runner/work/LootAura/LootAura/node_modules/next/src/client/components/navigation.ts:113:11)\n' +
    '    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:13:18)\n' +
    '    at renderWithHooks (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:15486:18)\n' +
    '    at mountIndeterminateComponent (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:20103:13)\n' +
    '    at beginWork (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:21626:16)\n' +
    '    at HTMLUnknownElement.callCallback (/home/runner/work/LootAura/LootAura/node_modules/react-dom/cjs/react-dom.development.js:4164:14)\n' +
    '    at HTMLUnknownElement.callTheUserObjectsOperation (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n' +
    '    at innerInvokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n' +
    '    at invokeEventListeners (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n' +
    '    at HTMLUnknownElementImpl._dispatch (/home/runner/work/LootAura/LootAura/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)',
  nameStr: 'Error',
  expected: 'undefined',
  actual: 'undefined'
}
The above error occurred in the <FavoriteButton> component:

    at FavoriteButton (/home/runner/work/LootAura/LootAura/components/FavoriteButton.tsx:11:3)
    at div
    at article
    at SaleCard (/home/runner/work/LootAura/LootAura/components/SaleCard.tsx:7:21)
    at div
    at SalesList (/home/runner/work/LootAura/LootAura/components/SalesList.tsx:7:22)
    at QueryClientProvider (file:///home/runner/work/LootAura/LootAura/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)
    at wrapper (/home/runner/work/LootAura/LootAura/tests/utils/renderWithProviders.tsx:11:22)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

 ❯ tests/integration/sales-list.spec.tsx (3 tests | 3 failed) 20ms
   × SalesList Integration > should render sales list with proper grid layout 12ms
     → invariant expected app router to be mounted
   × SalesList Integration > should handle empty sales list 3ms
     → Unable to find an element with the text: /no sales found/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
</body>
   × SalesList Integration > should filter sales by category 5ms
     → invariant expected app router to be mounted
stdout | tests/integration/sales-list.spec.tsx > SalesList Integration > should filter sales by category
[DOM] list item rendered id= 1
[DOM] item mounts id= 1
[DOM] list item rendered id= 1
[DOM] item mounts id= 1

stdout | Logger.info (/home/runner/work/LootAura/LootAura/lib/log.ts:32:15)
[2025-10-15T16:16:02.716Z] [INFO] [AddSaleForm] [geocode_fallback] Address geocoded via fallback geocoder {"component":"AddSaleForm","operation":"geocode_fallback","address":"123 Te","lat":35.6892523,"lng":51.3896004,"geocoder":"nominatim"}

 ✓ tests/unit/profile.upsert.test.ts (9 tests) 2ms
 ✓ tests/unit/distance.test.ts (9 tests) 2ms
 ✓ tests/unit/categories-parse.test.ts (7 tests) 1ms
 ✓ tests/unit/auth.ui.test.tsx (6 tests) 1ms
 ✓ tests/unit/arbiter.test.ts (5 tests) 1ms
 ✓ tests/unit/zip-normalize.test.ts (5 tests) 1ms
 ❯ tests/components/EmptyState.test.tsx (5 tests | 5 failed) 8ms
   × EmptyState > renders with default title 3ms
     → Unable to find an element with the text: No Sales Found. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
</body>
   × EmptyState > renders with custom title 1ms
     → Unable to find an element with the text: No favorites yet. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
</body>
   × EmptyState > renders with custom CTA 2ms
     → Unable to find an element with the text: Custom title. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
</body>
   × EmptyState > renders without CTA when not provided 1ms
     → Unable to find an element with the text: No CTA. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
</body>
   × EmptyState > has correct structure 1ms
     → Unable to find an element with the text: 🔎. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
</body>
 ✓ tests/build-time/css-tokens.test.ts (2 tests) 1ms
 ✓ tests/unit/filters.test.ts (5 tests) 1ms
 ↓ tests/integration/map.render.test.tsx (1 test | 1 skipped)
 ❯ tests/components/AddSaleForm.test.tsx (0 test)
 ❯ tests/components/ReviewsSection.test.tsx (0 test)

⎯⎯⎯⎯⎯⎯ Failed Suites 2 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  tests/components/AddSaleForm.test.tsx [ tests/components/AddSaleForm.test.tsx ]
Error: No test suite found in file /home/runner/work/LootAura/LootAura/tests/components/AddSaleForm.test.tsx
⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/57]⎯

 FAIL  tests/components/ReviewsSection.test.tsx [ tests/components/ReviewsSection.test.tsx ]
Error: No test suite found in file /home/runner/work/LootAura/LootAura/tests/components/ReviewsSection.test.tsx
⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/57]⎯

⎯⎯⎯⎯⎯⎯ Failed Tests 55 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  tests/components/AddSaleForm.a11y.test.tsx > AddSaleForm Accessibility > should have proper form labels and structure
Error: Invalid Chai property: toBeInTheDocument
 ❯ tests/components/AddSaleForm.a11y.test.tsx:29:16
     27|     // Check for proper form element
     28|     const form = screen.getByRole('form')
     29|     expect(form).toBeInTheDocument()
       |                ^
     30|     
     31|     // Check for required field labels

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[3/57]⎯

 FAIL  tests/components/AddSaleForm.a11y.test.tsx > AddSaleForm Accessibility > should have proper input types and attributes
Error: Invalid Chai property: toHaveAttribute
 ❯ tests/components/AddSaleForm.a11y.test.tsx:48:22
     46|     // Check input types
     47|     const titleInput = screen.getByLabelText('Sale Title *')
     48|     expect(titleInput).toHaveAttribute('type', 'text')
       |                      ^
     49|     expect(titleInput).toHaveAttribute('required')
     50|     

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[4/57]⎯

 FAIL  tests/components/AddSaleForm.a11y.test.tsx > AddSaleForm Accessibility > should have proper button roles and labels
Error: Invalid Chai property: toBeInTheDocument
 ❯ tests/components/AddSaleForm.a11y.test.tsx:80:24
     78|     // Check submit button
     79|     const submitButton = screen.getByRole('button', { name: /post sale…
     80|     expect(submitButton).toBeInTheDocument()
       |                        ^
     81|     expect(submitButton).toHaveAttribute('type', 'submit')
     82|     

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[5/57]⎯

 FAIL  tests/components/AddSaleForm.a11y.test.tsx > AddSaleForm Accessibility > should support keyboard navigation
Error: Invalid Chai property: toHaveFocus
 ❯ tests/components/AddSaleForm.a11y.test.tsx:108:22
    106|     // Focus should move through elements in order
    107|     await user.tab()
    108|     expect(titleInput).toHaveFocus()
       |                      ^
    109|     
    110|     await user.tab()

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[6/57]⎯

 FAIL  tests/components/AddSaleForm.a11y.test.tsx > AddSaleForm Accessibility > should support form submission with Enter key
Error: Invalid Chai property: toBeInTheDocument
 ❯ tests/components/AddSaleForm.a11y.test.tsx:159:24
    157|     
    158|     // Form should be submitted (mocked)
    159|     expect(submitButton).toBeInTheDocument()
       |                        ^
    160|   })
    161| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[7/57]⎯

 FAIL  tests/components/AddSaleForm.a11y.test.tsx > AddSaleForm Accessibility > should support adding tags with Enter key
Error: Invalid Chai property: toBeInTheDocument
 ❯ tests/components/AddSaleForm.a11y.test.tsx:174:41
    172|     
    173|     // Tag should be added
    174|     expect(screen.getByText('furniture')).toBeInTheDocument()
       |                                         ^
    175|   })
    176| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[8/57]⎯

 FAIL  tests/components/AddSaleForm.a11y.test.tsx > AddSaleForm Accessibility > should have proper error handling and announcements
Error: Invalid Chai property: toBeInTheDocument
 ❯ tests/components/AddSaleForm.a11y.test.tsx:181:41
    179|     
    180|     // Initially no error should be shown
    181|     expect(screen.queryByRole('alert')).not.toBeInTheDocument()
       |                                         ^
    182|     
    183|     // Error state would be tested with actual form submission

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[9/57]⎯

 FAIL  tests/components/AddSaleForm.a11y.test.tsx > AddSaleForm Accessibility > should have proper fieldset and legend structure for grouped fields
Error: Invalid Chai property: toBeInTheDocument
 ❯ tests/components/AddSaleForm.a11y.test.tsx:194:26
    192|     const endDateLabel = screen.getByLabelText('End Date & Time')
    193|     
    194|     expect(startDateLabel).toBeInTheDocument()
       |                          ^
    195|     expect(endDateLabel).toBeInTheDocument()
    196|     

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[10/57]⎯

 FAIL  tests/components/AddSaleForm.a11y.test.tsx > AddSaleForm Accessibility > should have proper focus management
Error: Invalid Chai property: toHaveFocus
 ❯ tests/components/AddSaleForm.a11y.test.tsx:212:22
    210|     const titleInput = screen.getByLabelText('Sale Title *')
    211|     titleInput.focus()
    212|     expect(titleInput).toHaveFocus()
       |                      ^
    213|     
    214|     // Tab should move focus to next input

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[11/57]⎯

 FAIL  tests/components/AddSaleForm.a11y.test.tsx > AddSaleForm Accessibility > should have proper ARIA attributes
Error: Invalid Chai property: toBeInTheDocument
 ❯ tests/components/AddSaleForm.a11y.test.tsx:225:16
    223|     // Check for proper form role
    224|     const form = screen.getByRole('form')
    225|     expect(form).toBeInTheDocument()
       |                ^
    226|     
    227|     // Check that required fields are properly marked

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[12/57]⎯

 FAIL  tests/components/AddSaleForm.a11y.test.tsx > AddSaleForm Accessibility > should support screen reader navigation
Error: Invalid Chai property: toBeInTheDocument
 ❯ tests/components/AddSaleForm.a11y.test.tsx:244:16
    242|     // All form elements should be accessible to screen readers
    243|     const form = screen.getByRole('form')
    244|     expect(form).toBeInTheDocument()
       |                ^
    245|     
    246|     // Check that all inputs have associated labels

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[13/57]⎯

 FAIL  tests/components/EmptyState.test.tsx > EmptyState > renders with default title
TestingLibraryElementError: Unable to find an element with the text: No Sales Found. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
</body>
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ tests/components/EmptyState.test.tsx:9:19
      7|     render(<EmptyState />)
      8|     
      9|     expect(screen.getByText('No Sales Found')).toBeInTheDocument()
       |                   ^
     10|     expect(screen.getByText('🔎')).toBeInTheDocument()
     11|   })

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[14/57]⎯

 FAIL  tests/components/EmptyState.test.tsx > EmptyState > renders with custom title
TestingLibraryElementError: Unable to find an element with the text: No favorites yet. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
</body>
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ tests/components/EmptyState.test.tsx:16:19
     14|     render(<EmptyState title="No favorites yet" />)
     15|     
     16|     expect(screen.getByText('No favorites yet')).toBeInTheDocument()
       |                   ^
     17|     expect(screen.getByText('🔎')).toBeInTheDocument()
     18|   })

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[15/57]⎯

 FAIL  tests/components/EmptyState.test.tsx > EmptyState > renders with custom CTA
TestingLibraryElementError: Unable to find an element with the text: Custom title. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
</body>
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ tests/components/EmptyState.test.tsx:24:19
     22|     render(<EmptyState title="Custom title" cta={cta} />)
     23|     
     24|     expect(screen.getByText('Custom title')).toBeInTheDocument()
       |                   ^
     25|     expect(screen.getByRole('button', { name: 'Click me' })).toBeInThe…
     26|   })

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[16/57]⎯

 FAIL  tests/components/EmptyState.test.tsx > EmptyState > renders without CTA when not provided
TestingLibraryElementError: Unable to find an element with the text: No CTA. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
</body>
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ tests/components/EmptyState.test.tsx:31:19
     29|     render(<EmptyState title="No CTA" />)
     30|     
     31|     expect(screen.getByText('No CTA')).toBeInTheDocument()
       |                   ^
     32|     expect(screen.queryByRole('button')).not.toBeInTheDocument()
     33|   })

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[17/57]⎯

 FAIL  tests/components/EmptyState.test.tsx > EmptyState > has correct structure
TestingLibraryElementError: Unable to find an element with the text: 🔎. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
</body>
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ tests/components/EmptyState.test.tsx:38:30
     36|     render(<EmptyState title="Test" />)
     37|     
     38|     const container = screen.getByText('🔎').parentElement
       |                              ^
     39|     expect(container).toHaveClass('text-center')
     40|     expect(container).toHaveClass('py-16')

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[18/57]⎯

 FAIL  tests/components/FavoriteButton.test.tsx > FavoriteButton > renders save button when not favorited
 FAIL  tests/components/FavoriteButton.test.tsx > FavoriteButton > renders saved button when favorited
 FAIL  tests/components/FavoriteButton.test.tsx > FavoriteButton > calls toggle function when clicked
 FAIL  tests/components/FavoriteButton.test.tsx > FavoriteButton > shows loading state when pending
 FAIL  tests/components/FavoriteButton.test.tsx > FavoriteButton > has correct ARIA attributes
 FAIL  tests/integration/sales-list.spec.tsx > SalesList Integration > should render sales list with proper grid layout
 FAIL  tests/integration/sales-list.spec.tsx > SalesList Integration > should filter sales by category
Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
     11|   initial?: boolean 
     12| }) {
     13|   const router = useRouter()
       |                  ^
     14|   const { data: user } = useAuth()
     15|   const { data: favorites = [] } = useFavorites()
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ beginWork$1 node_modules/react-dom/cjs/react-dom.development.js:27465:14
 ❯ performUnitOfWork node_modules/react-dom/cjs/react-dom.development.js:26599:12
 ❯ workLoopSync node_modules/react-dom/cjs/react-dom.development.js:26505:5
 ❯ renderRootSync node_modules/react-dom/cjs/react-dom.development.js:26473:7
 ❯ recoverFromConcurrentError node_modules/react-dom/cjs/react-dom.development.js:25889:20

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[19/57]⎯

 FAIL  tests/components/SalesGrid.test.tsx > SalesGrid > renders sales cards when not loading and sales are present
 FAIL  tests/components/SalesGrid.test.tsx > SalesGrid > renders skeletons when loading and not in MAP authority
 FAIL  tests/components/SalesGrid.test.tsx > SalesGrid > renders empty state message when no sales and not loading
 FAIL  tests/components/SalesGrid.test.tsx > SalesGrid > does not render skeletons when in MAP authority, even if loading
 FAIL  tests/components/SalesGrid.test.tsx > SalesGrid > observes resize events and updates columns
 FAIL  tests/components/SalesGrid.test.tsx > SalesGrid > cleans up ResizeObserver on unmount
 FAIL  tests/components/SalesGrid.test.tsx > SalesGrid > applies custom className
 FAIL  tests/components/SalesGrid.test.tsx > SalesGrid > sets correct data attributes
 FAIL  tests/integration/gridLayout.integration.test.tsx > Grid Layout Integration > should render sales as direct children of grid container
 FAIL  tests/integration/gridLayout.integration.test.tsx > Grid Layout Integration > should have correct grid classes at different breakpoints
 FAIL  tests/integration/gridLayout.integration.test.tsx > Grid Layout Integration > should not have wrapper divs around sale cards
 FAIL  tests/integration/gridLayout.integration.test.tsx > Grid Layout Integration > should maintain grid layout during loading states
 FAIL  tests/integration/gridLayout.integration.test.tsx > Grid Layout Integration > should handle empty state without breaking grid
 FAIL  tests/integration/gridLayout.integration.test.tsx > Grid Layout Integration > should not have multiple column-defining classes
ReferenceError: ResizeObserver is not defined
 ❯ components/SalesGrid.tsx:51:28
     49|     updateColumns() // Initial calculation
     50| 
     51|     const resizeObserver = new ResizeObserver(entries => {
       |                            ^
     52|       for (const entry of entries) {
     53|         if (entry.target === gridRef.current) {
 ❯ commitHookEffectListMount node_modules/react-dom/cjs/react-dom.development.js:23189:26
 ❯ commitPassiveMountOnFiber node_modules/react-dom/cjs/react-dom.development.js:24970:11
 ❯ commitPassiveMountEffects_complete node_modules/react-dom/cjs/react-dom.development.js:24930:9
 ❯ commitPassiveMountEffects_begin node_modules/react-dom/cjs/react-dom.development.js:24917:7
 ❯ commitPassiveMountEffects node_modules/react-dom/cjs/react-dom.development.js:24905:3
 ❯ flushPassiveEffectsImpl node_modules/react-dom/cjs/react-dom.development.js:27078:3
 ❯ flushPassiveEffects node_modules/react-dom/cjs/react-dom.development.js:27023:14
 ❯ commitRootImpl node_modules/react-dom/cjs/react-dom.development.js:26974:5
 ❯ commitRoot node_modules/react-dom/cjs/react-dom.development.js:26721:5

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[20/57]⎯

 FAIL  tests/integration/addSale.insert.test.tsx > Add Sale Integration > should handle geocoding failure gracefully
TestingLibraryElementError: Found multiple elements with the role "button" and name `/post sale/i`

Here are the matching elements:

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
</body>
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ getElementError node_modules/@testing-library/dom/dist/query-helpers.js:20:35
 ❯ getMultipleElementsFoundError node_modules/@testing-library/dom/dist/query-helpers.js:23:10
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:55:13
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ tests/integration/addSale.insert.test.tsx:120:33
    118| 
    119|     // Try to submit without required fields
    120|     const submitButton = screen.getByRole('button', { name: /post sale…
       |                                 ^
    121|     expect(submitButton).toBeInTheDocument()
    122|   })

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[21/57]⎯

 FAIL  tests/integration/addSale.insert.test.tsx > Add Sale Integration > should validate required fields before submission
TestingLibraryElementError: Found multiple elements with the role "button" and name `/post sale/i`

Here are the matching elements:

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
</body>
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ getElementError node_modules/@testing-library/dom/dist/query-helpers.js:20:35
 ❯ getMultipleElementsFoundError node_modules/@testing-library/dom/dist/query-helpers.js:23:10
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:55:13
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ tests/integration/addSale.insert.test.tsx:130:33
    128| 
    129|     // Try to submit without required fields
    130|     const submitButton = screen.getByRole('button', { name: /post sale…
       |                                 ^
    131|     expect(submitButton).toBeInTheDocument()
    132|   })

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[22/57]⎯

 FAIL  tests/integration/addSale.insert.test.tsx > Add Sale Integration > should show loading state during submission
TestingLibraryElementError: Found multiple elements with the text: Posting...

Here are the matching elements:

Ignored nodes: comments, script, style
<div>
  Posting...
</div>

Ignored nodes: comments, script, style
<div>
  Posting...
</div>

Ignored nodes: comments, script, style
<div>
  Posting...
</div>

Ignored nodes: comments, script, style
<div>
  Posting...
</div>

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
</body>
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ getElementError node_modules/@testing-library/dom/dist/query-helpers.js:20:35
 ❯ getMultipleElementsFoundError node_modules/@testing-library/dom/dist/query-helpers.js:23:10
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:55:13
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ tests/integration/addSale.insert.test.tsx:140:19
    138| 
    139|     // Check for loading state
    140|     expect(screen.getByText('Posting...')).toBeInTheDocument()
       |                   ^
    141|   })
    142| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[23/57]⎯

 FAIL  tests/integration/addSale.insert.test.tsx > Add Sale Integration > should handle submission errors
TestingLibraryElementError: Found multiple elements with the role "button" and name `/post sale/i`

Here are the matching elements:

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
</body>
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ getElementError node_modules/@testing-library/dom/dist/query-helpers.js:20:35
 ❯ getMultipleElementsFoundError node_modules/@testing-library/dom/dist/query-helpers.js:23:10
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:55:13
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ tests/integration/addSale.insert.test.tsx:149:19
    147| 
    148|     // Check for error handling
    149|     expect(screen.getByRole('button', { name: /post sale/i })).toBeInT…
       |                   ^
    150|   })
    151| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[24/57]⎯

 FAIL  tests/integration/addSale.insert.test.tsx > Add Sale Integration > should include owner_id in inserted data
TestingLibraryElementError: Found multiple elements with the role "button" and name `/post sale/i`

Here are the matching elements:

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
</body>
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ getElementError node_modules/@testing-library/dom/dist/query-helpers.js:20:35
 ❯ getMultipleElementsFoundError node_modules/@testing-library/dom/dist/query-helpers.js:23:10
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:55:13
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ tests/integration/addSale.insert.test.tsx:158:19
    156| 
    157|     // Check that the form includes owner_id
    158|     expect(screen.getByRole('button', { name: /post sale/i })).toBeInT…
       |                   ^
    159|   })
    160| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[25/57]⎯

 FAIL  tests/integration/addSale.insert.test.tsx > Add Sale Integration > should update React Query cache after successful creation
TestingLibraryElementError: Found multiple elements with the text: Post Your Sale

Here are the matching elements:

Ignored nodes: comments, script, style
<h1>
  Post Your Sale
</h1>

Ignored nodes: comments, script, style
<h1>
  Post Your Sale
</h1>

Ignored nodes: comments, script, style
<h1>
  Post Your Sale
</h1>

Ignored nodes: comments, script, style
<h1>
  Post Your Sale
</h1>

Ignored nodes: comments, script, style
<h1>
  Post Your Sale
</h1>

Ignored nodes: comments, script, style
<h1>
  Post Your Sale
</h1>

Ignored nodes: comments, script, style
<h1>
  Post Your Sale
</h1>

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
</body>
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ getElementError node_modules/@testing-library/dom/dist/query-helpers.js:20:35
 ❯ getMultipleElementsFoundError node_modules/@testing-library/dom/dist/query-helpers.js:23:10
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:55:13
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ tests/integration/addSale.insert.test.tsx:167:19
    165| 
    166|     // Check that the form is rendered
    167|     expect(screen.getByText('Post Your Sale')).toBeInTheDocument()
       |                   ^
    168|     expect(screen.getByLabelText('Sale Title *')).toBeInTheDocument()
    169|   })

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[26/57]⎯

 FAIL  tests/integration/rls.owner.test.ts > RLS and Owner Permissions > should set owner_id to auth.uid() when inserting sale
TypeError: supabase.auth.getUser.mockResolvedValue is not a function
 ❯ tests/integration/rls.owner.test.ts:18:27
     16| 
     17|     // Mock authenticated user
     18|     supabase.auth.getUser.mockResolvedValue({
       |                           ^
     19|       data: { user: { id: testUserId, email: 'test@example.com' } }
     20|     })

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[27/57]⎯

 FAIL  tests/integration/rls.owner.test.ts > RLS and Owner Permissions > should allow public read access to sales list
TypeError: supabase.auth.getUser.mockResolvedValue is not a function
 ❯ tests/integration/rls.owner.test.ts:47:27
     45| 
     46|     // Mock anonymous user
     47|     supabase.auth.getUser.mockResolvedValue({
       |                           ^
     48|       data: { user: null }
     49|     })

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[28/57]⎯

 FAIL  tests/integration/rls.owner.test.ts > RLS and Owner Permissions > should allow owner to update their own sale
TypeError: supabase.auth.getUser.mockResolvedValue is not a function
 ❯ tests/integration/rls.owner.test.ts:77:27
     75| 
     76|     // Mock authenticated user
     77|     supabase.auth.getUser.mockResolvedValue({
       |                           ^
     78|       data: { user: { id: testUserId, email: 'test@example.com' } }
     79|     })

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[29/57]⎯

 FAIL  tests/integration/rls.owner.test.ts > RLS and Owner Permissions > should prevent non-owner from updating sale
TypeError: supabase.auth.getUser.mockResolvedValue is not a function
 ❯ tests/integration/rls.owner.test.ts:113:27
    111| 
    112|     // Mock authenticated user
    113|     supabase.auth.getUser.mockResolvedValue({
       |                           ^
    114|       data: { user: { id: testUserId, email: 'test@example.com' } }
    115|     })

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[30/57]⎯

 FAIL  tests/integration/rls.owner.test.ts > RLS and Owner Permissions > should allow owner to delete their own sale
TypeError: supabase.auth.getUser.mockResolvedValue is not a function
 ❯ tests/integration/rls.owner.test.ts:149:27
    147| 
    148|     // Mock authenticated user
    149|     supabase.auth.getUser.mockResolvedValue({
       |                           ^
    150|       data: { user: { id: testUserId, email: 'test@example.com' } }
    151|     })

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[31/57]⎯

 FAIL  tests/integration/rls.owner.test.ts > RLS and Owner Permissions > should prevent non-owner from deleting sale
TypeError: supabase.auth.getUser.mockResolvedValue is not a function
 ❯ tests/integration/rls.owner.test.ts:184:27
    182| 
    183|     // Mock authenticated user
    184|     supabase.auth.getUser.mockResolvedValue({
       |                           ^
    185|       data: { user: { id: testUserId, email: 'test@example.com' } }
    186|     })

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[32/57]⎯

 FAIL  tests/integration/sales-list.spec.tsx > SalesList Integration > should handle empty sales list
TestingLibraryElementError: Unable to find an element with the text: /no sales found/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
</body>
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ tests/integration/sales-list.spec.tsx:72:19
     70| 
     71|     // Should show empty state
     72|     expect(screen.getByText(/no sales found/i)).toBeInTheDocument()
       |                   ^
     73|   })
     74| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[33/57]⎯

 FAIL  tests/unit/env.test.ts > Environment Validation > should handle missing optional variables
AssertionError: expected undefined to be 'https://lootaura.app' // Object.is equality

- Expected: 
"https://lootaura.app"

+ Received: 
undefined

 ❯ tests/unit/env.test.ts:87:45
     85| 
     86|     // Accept the default value from global mock
     87|     expect(ENV_PUBLIC.NEXT_PUBLIC_SITE_URL).toBe('https://lootaura.app…
       |                                             ^
     88|     expect(ENV_PUBLIC.NEXT_PUBLIC_VAPID_PUBLIC_KEY).toBeUndefined()
     89|   })

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[34/57]⎯

 FAIL  tests/unit/geocode.fallback.test.ts > Geocoding Fallback > should geocode address using Nominatim
AssertionError: expected null to deeply equal { lat: 38.1405, lng: -85.6936, …(4) }

- Expected: 
Object {
  "city": "Louisville",
  "formatted_address": "123 Test St, Louisville, KY",
  "lat": 38.1405,
  "lng": -85.6936,
  "state": "KY",
  "zip": "40201",
}

+ Received: 
null

 ❯ tests/unit/geocode.fallback.test.ts:31:20
     29|     
     30|     // Should get Louisville coordinates from Nominatim
     31|     expect(result).toEqual({
       |                    ^
     32|       lat: 38.1405,
     33|       lng: -85.6936,

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[35/57]⎯

 FAIL  tests/unit/geocode.fallback.test.ts > Geocoding Fallback > should geocode address with valid input
AssertionError: expected null to deeply equal { lat: 38.1405, lng: -85.6936, …(4) }

- Expected: 
Object {
  "city": "Louisville",
  "formatted_address": "123 Test St, Louisville, KY",
  "lat": 38.1405,
  "lng": -85.6936,
  "state": "KY",
  "zip": "40201",
}

+ Received: 
null

 ❯ tests/unit/geocode.fallback.test.ts:54:20
     52|     const result = await geocodeAddress(testAddress.address)
     53|     
     54|     expect(result).toEqual({
       |                    ^
     55|       lat: 38.1405,
     56|       lng: -85.6936,

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[36/57]⎯

 FAIL  tests/unit/geocode.fallback.test.ts > Geocoding Fallback > should include proper headers for Nominatim requests
AssertionError: expected null to deeply equal { lat: 38.1405, lng: -85.6936, …(4) }

- Expected: 
Object {
  "city": "Louisville",
  "formatted_address": "123 Test St, Louisville, KY",
  "lat": 38.1405,
  "lng": -85.6936,
  "state": "KY",
  "zip": "40201",
}

+ Received: 
null

 ❯ tests/unit/geocode.fallback.test.ts:84:20
     82|     
     83|     // Should get Louisville coordinates from Nominatim
     84|     expect(result).toEqual({
       |                    ^
     85|       lat: 38.1405,
     86|       lng: -85.6936,

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[37/57]⎯

 FAIL  tests/unit/geocode.fallback.test.ts > Geocoding Fallback > should cache results to avoid repeated API calls
AssertionError: expected null to be truthy

- Expected: 
true

+ Received: 
null

 ❯ tests/unit/geocode.fallback.test.ts:103:21
    101|     // First call
    102|     const result1 = await geocodeAddress(testAddress.address)
    103|     expect(result1).toBeTruthy()
       |                     ^
    104|     
    105|     // Second call should use cache

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[38/57]⎯


⎯⎯⎯⎯⎯ Uncaught Exception ⎯⎯⎯⎯⎯
Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
     11|   initial?: boolean 
     12| }) {
     13|   const router = useRouter()
       |                  ^
     14|   const { data: user } = useAuth()
     15|   const { data: favorites = [] } = useFavorites()
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/components/FavoriteButton.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "renders save button when not favorited". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

⎯⎯⎯⎯⎯ Uncaught Exception ⎯⎯⎯⎯⎯
Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
     11|   initial?: boolean 
     12| }) {
     13|   const router = useRouter()
       |                  ^
     14|   const { data: user } = useAuth()
     15|   const { data: favorites = [] } = useFavorites()
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/components/FavoriteButton.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "renders save button when not favorited". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

⎯⎯⎯⎯⎯ Uncaught Exception ⎯⎯⎯⎯⎯
Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
     11|   initial?: boolean 
     12| }) {
     13|   const router = useRouter()
       |                  ^
     14|   const { data: user } = useAuth()
     15|   const { data: favorites = [] } = useFavorites()
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/components/FavoriteButton.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "renders saved button when favorited". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

⎯⎯⎯⎯⎯ Uncaught Exception ⎯⎯⎯⎯⎯
Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
     11|   initial?: boolean 
     12| }) {
     13|   const router = useRouter()
       |                  ^
     14|   const { data: user } = useAuth()
     15|   const { data: favorites = [] } = useFavorites()
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/components/FavoriteButton.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "renders saved button when favorited". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

⎯⎯⎯⎯⎯ Uncaught Exception ⎯⎯⎯⎯⎯
Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
     11|   initial?: boolean 
     12| }) {
     13|   const router = useRouter()
       |                  ^
     14|   const { data: user } = useAuth()
     15|   const { data: favorites = [] } = useFavorites()
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/components/FavoriteButton.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "calls toggle function when clicked". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

⎯⎯⎯⎯⎯ Uncaught Exception ⎯⎯⎯⎯⎯
Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
     11|   initial?: boolean 
     12| }) {
     13|   const router = useRouter()
       |                  ^
     14|   const { data: user } = useAuth()
     15|   const { data: favorites = [] } = useFavorites()
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/components/FavoriteButton.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "calls toggle function when clicked". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

⎯⎯⎯⎯⎯ Uncaught Exception ⎯⎯⎯⎯⎯
Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
     11|   initial?: boolean 
     12| }) {
     13|   const router = useRouter()
       |                  ^
     14|   const { data: user } = useAuth()
     15|   const { data: favorites = [] } = useFavorites()
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/components/FavoriteButton.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "shows loading state when pending". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

⎯⎯⎯⎯⎯ Uncaught Exception ⎯⎯⎯⎯⎯
Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
     11|   initial?: boolean 
     12| }) {
     13|   const router = useRouter()
       |                  ^
     14|   const { data: user } = useAuth()
     15|   const { data: favorites = [] } = useFavorites()
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/components/FavoriteButton.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "shows loading state when pending". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

⎯⎯⎯⎯⎯ Uncaught Exception ⎯⎯⎯⎯⎯
Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
     11|   initial?: boolean 
     12| }) {
     13|   const router = useRouter()
       |                  ^
     14|   const { data: user } = useAuth()
     15|   const { data: favorites = [] } = useFavorites()
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/components/FavoriteButton.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "has correct ARIA attributes". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

⎯⎯⎯⎯⎯ Uncaught Exception ⎯⎯⎯⎯⎯
Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
     11|   initial?: boolean 
     12| }) {
     13|   const router = useRouter()
       |                  ^
     14|   const { data: user } = useAuth()
     15|   const { data: favorites = [] } = useFavorites()
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/components/FavoriteButton.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "has correct ARIA attributes". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

⎯⎯⎯⎯⎯ Uncaught Exception ⎯⎯⎯⎯⎯
Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
     11|   initial?: boolean 
     12| }) {
     13|   const router = useRouter()
       |                  ^
     14|   const { data: user } = useAuth()
     15|   const { data: favorites = [] } = useFavorites()
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/integration/sales-list.spec.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should render sales list with proper grid layout". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

⎯⎯⎯⎯⎯ Uncaught Exception ⎯⎯⎯⎯⎯
Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
     11|   initial?: boolean 
     12| }) {
     13|   const router = useRouter()
       |                  ^
     14|   const { data: user } = useAuth()
     15|   const { data: favorites = [] } = useFavorites()
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/integration/sales-list.spec.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should render sales list with proper grid layout". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

⎯⎯⎯⎯⎯ Uncaught Exception ⎯⎯⎯⎯⎯
Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
     11|   initial?: boolean 
     12| }) {
     13|   const router = useRouter()
       |                  ^
     14|   const { data: user } = useAuth()
     15|   const { data: favorites = [] } = useFavorites()
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/integration/sales-list.spec.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should render sales list with proper grid layout". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

⎯⎯⎯⎯⎯ Uncaught Exception ⎯⎯⎯⎯⎯
Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
     11|   initial?: boolean 
     12| }) {
     13|   const router = useRouter()
       |                  ^
     14|   const { data: user } = useAuth()
     15|   const { data: favorites = [] } = useFavorites()
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/integration/sales-list.spec.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should render sales list with proper grid layout". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

⎯⎯⎯⎯⎯ Uncaught Exception ⎯⎯⎯⎯⎯
Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
     11|   initial?: boolean 
     12| }) {
     13|   const router = useRouter()
       |                  ^
     14|   const { data: user } = useAuth()
     15|   const { data: favorites = [] } = useFavorites()
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/integration/sales-list.spec.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should filter sales by category". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

⎯⎯⎯⎯⎯ Uncaught Exception ⎯⎯⎯⎯⎯
Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
     11|   initial?: boolean 
     12| }) {
     13|   const router = useRouter()
       |                  ^
     14|   const { data: user } = useAuth()
     15|   const { data: favorites = [] } = useFavorites()
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/integration/sales-list.spec.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should filter sales by category". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

⎯⎯⎯⎯⎯⎯ Unhandled Errors ⎯⎯⎯⎯⎯⎯

Vitest caught 16 unhandled errors during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.
⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯
 Test Files  12 failed | 34 passed | 2 skipped (48)
      Tests  55 failed | 390 passed | 3 skipped | 1 todo (449)
     Errors  16 errors
   Start at  16:15:59
   Duration  3.18s (transform 619ms, setup 39ms, collect 1.13s, tests 966ms, environment 431ms, prepare 64ms)


Error: Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/components/FavoriteButton.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "renders save button when not favorited". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.


Error: Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/components/FavoriteButton.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "renders save button when not favorited". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.


Error: Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/components/FavoriteButton.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "renders saved button when favorited". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

(node:2186) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 unhandledRejection listeners added to [process]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)

Error: Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/components/FavoriteButton.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "renders saved button when favorited". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.


Error: Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/components/FavoriteButton.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "calls toggle function when clicked". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.


Error: Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/components/FavoriteButton.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "calls toggle function when clicked". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.


Error: Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/components/FavoriteButton.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "shows loading state when pending". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.


Error: Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/components/FavoriteButton.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "shows loading state when pending". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.


Error: Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/components/FavoriteButton.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "has correct ARIA attributes". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.


Error: Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/components/FavoriteButton.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "has correct ARIA attributes". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.


Error: Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/integration/sales-list.spec.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should render sales list with proper grid layout". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.


Error: Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/integration/sales-list.spec.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should render sales list with proper grid layout". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.


Error: Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/integration/sales-list.spec.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should render sales list with proper grid layout". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.


Error: Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/integration/sales-list.spec.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should render sales list with proper grid layout". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.


Error: Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/integration/sales-list.spec.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should filter sales by category". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.


Error: Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ HTMLUnknownElement.callCallback node_modules/react-dom/cjs/react-dom.development.js:4164:14
 ❯ HTMLUnknownElement.callTheUserObjectsOperation node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30
 ❯ innerInvokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25
 ❯ invokeEventListeners node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3
 ❯ HTMLUnknownElementImpl._dispatch node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9

This error originated in "tests/integration/sales-list.spec.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should filter sales by category". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.


Error: Error: Invalid Chai property: toBeInTheDocument
 ❯ tests/components/AddSaleForm.a11y.test.tsx:29:16



Error: Error: Invalid Chai property: toHaveAttribute
 ❯ tests/components/AddSaleForm.a11y.test.tsx:48:22



Error: Error: Invalid Chai property: toBeInTheDocument
 ❯ tests/components/AddSaleForm.a11y.test.tsx:80:24



Error: Error: Invalid Chai property: toHaveFocus
 ❯ tests/components/AddSaleForm.a11y.test.tsx:108:22



Error: Error: Invalid Chai property: toBeInTheDocument
 ❯ tests/components/AddSaleForm.a11y.test.tsx:159:24



Error: Error: Invalid Chai property: toBeInTheDocument
 ❯ tests/components/AddSaleForm.a11y.test.tsx:174:41



Error: Error: Invalid Chai property: toBeInTheDocument
 ❯ tests/components/AddSaleForm.a11y.test.tsx:181:41



Error: Error: Invalid Chai property: toBeInTheDocument
 ❯ tests/components/AddSaleForm.a11y.test.tsx:194:26



Error: Error: Invalid Chai property: toHaveFocus
 ❯ tests/components/AddSaleForm.a11y.test.tsx:212:22



Error: Error: Invalid Chai property: toBeInTheDocument
 ❯ tests/components/AddSaleForm.a11y.test.tsx:225:16



Error: Error: Invalid Chai property: toBeInTheDocument
 ❯ tests/components/AddSaleForm.a11y.test.tsx:244:16



Error: TestingLibraryElementError: Unable to find an element with the text: No Sales Found. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
</body>
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ tests/components/EmptyState.test.tsx:9:19



Error: TestingLibraryElementError: Unable to find an element with the text: No favorites yet. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
</body>
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ tests/components/EmptyState.test.tsx:16:19



Error: TestingLibraryElementError: Unable to find an element with the text: Custom title. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
</body>
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ tests/components/EmptyState.test.tsx:24:19



Error: TestingLibraryElementError: Unable to find an element with the text: No CTA. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
</body>
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ tests/components/EmptyState.test.tsx:31:19



Error: TestingLibraryElementError: Unable to find an element with the text: 🔎. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
</body>
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ tests/components/EmptyState.test.tsx:38:30



Error: Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ beginWork$1 node_modules/react-dom/cjs/react-dom.development.js:27465:14
 ❯ performUnitOfWork node_modules/react-dom/cjs/react-dom.development.js:26599:12
 ❯ workLoopSync node_modules/react-dom/cjs/react-dom.development.js:26505:5
 ❯ renderRootSync node_modules/react-dom/cjs/react-dom.development.js:26473:7
 ❯ recoverFromConcurrentError node_modules/react-dom/cjs/react-dom.development.js:25889:20



Error: Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ beginWork$1 node_modules/react-dom/cjs/react-dom.development.js:27465:14
 ❯ performUnitOfWork node_modules/react-dom/cjs/react-dom.development.js:26599:12
 ❯ workLoopSync node_modules/react-dom/cjs/react-dom.development.js:26505:5
 ❯ renderRootSync node_modules/react-dom/cjs/react-dom.development.js:26473:7
 ❯ recoverFromConcurrentError node_modules/react-dom/cjs/react-dom.development.js:25889:20



Error: Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ beginWork$1 node_modules/react-dom/cjs/react-dom.development.js:27465:14
 ❯ performUnitOfWork node_modules/react-dom/cjs/react-dom.development.js:26599:12
 ❯ workLoopSync node_modules/react-dom/cjs/react-dom.development.js:26505:5
 ❯ renderRootSync node_modules/react-dom/cjs/react-dom.development.js:26473:7
 ❯ recoverFromConcurrentError node_modules/react-dom/cjs/react-dom.development.js:25889:20



Error: Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ beginWork$1 node_modules/react-dom/cjs/react-dom.development.js:27465:14
 ❯ performUnitOfWork node_modules/react-dom/cjs/react-dom.development.js:26599:12
 ❯ workLoopSync node_modules/react-dom/cjs/react-dom.development.js:26505:5
 ❯ renderRootSync node_modules/react-dom/cjs/react-dom.development.js:26473:7
 ❯ recoverFromConcurrentError node_modules/react-dom/cjs/react-dom.development.js:25889:20



Error: Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ beginWork$1 node_modules/react-dom/cjs/react-dom.development.js:27465:14
 ❯ performUnitOfWork node_modules/react-dom/cjs/react-dom.development.js:26599:12
 ❯ workLoopSync node_modules/react-dom/cjs/react-dom.development.js:26505:5
 ❯ renderRootSync node_modules/react-dom/cjs/react-dom.development.js:26473:7
 ❯ recoverFromConcurrentError node_modules/react-dom/cjs/react-dom.development.js:25889:20



Error: ReferenceError: ResizeObserver is not defined
 ❯ components/SalesGrid.tsx:51:28
 ❯ commitHookEffectListMount node_modules/react-dom/cjs/react-dom.development.js:23189:26
 ❯ commitPassiveMountOnFiber node_modules/react-dom/cjs/react-dom.development.js:24970:11
 ❯ commitPassiveMountEffects_complete node_modules/react-dom/cjs/react-dom.development.js:24930:9
 ❯ commitPassiveMountEffects_begin node_modules/react-dom/cjs/react-dom.development.js:24917:7
 ❯ commitPassiveMountEffects node_modules/react-dom/cjs/react-dom.development.js:24905:3
 ❯ flushPassiveEffectsImpl node_modules/react-dom/cjs/react-dom.development.js:27078:3
 ❯ flushPassiveEffects node_modules/react-dom/cjs/react-dom.development.js:27023:14
 ❯ commitRootImpl node_modules/react-dom/cjs/react-dom.development.js:26974:5
 ❯ commitRoot node_modules/react-dom/cjs/react-dom.development.js:26721:5



Error: ReferenceError: ResizeObserver is not defined
 ❯ components/SalesGrid.tsx:51:28
 ❯ commitHookEffectListMount node_modules/react-dom/cjs/react-dom.development.js:23189:26
 ❯ commitPassiveMountOnFiber node_modules/react-dom/cjs/react-dom.development.js:24970:11
 ❯ commitPassiveMountEffects_complete node_modules/react-dom/cjs/react-dom.development.js:24930:9
 ❯ commitPassiveMountEffects_begin node_modules/react-dom/cjs/react-dom.development.js:24917:7
 ❯ commitPassiveMountEffects node_modules/react-dom/cjs/react-dom.development.js:24905:3
 ❯ flushPassiveEffectsImpl node_modules/react-dom/cjs/react-dom.development.js:27078:3
 ❯ flushPassiveEffects node_modules/react-dom/cjs/react-dom.development.js:27023:14
 ❯ commitRootImpl node_modules/react-dom/cjs/react-dom.development.js:26974:5
 ❯ commitRoot node_modules/react-dom/cjs/react-dom.development.js:26721:5



Error: ReferenceError: ResizeObserver is not defined
 ❯ components/SalesGrid.tsx:51:28
 ❯ commitHookEffectListMount node_modules/react-dom/cjs/react-dom.development.js:23189:26
 ❯ commitPassiveMountOnFiber node_modules/react-dom/cjs/react-dom.development.js:24970:11
 ❯ commitPassiveMountEffects_complete node_modules/react-dom/cjs/react-dom.development.js:24930:9
 ❯ commitPassiveMountEffects_begin node_modules/react-dom/cjs/react-dom.development.js:24917:7
 ❯ commitPassiveMountEffects node_modules/react-dom/cjs/react-dom.development.js:24905:3
 ❯ flushPassiveEffectsImpl node_modules/react-dom/cjs/react-dom.development.js:27078:3
 ❯ flushPassiveEffects node_modules/react-dom/cjs/react-dom.development.js:27023:14
 ❯ commitRootImpl node_modules/react-dom/cjs/react-dom.development.js:26974:5
 ❯ commitRoot node_modules/react-dom/cjs/react-dom.development.js:26721:5



Error: ReferenceError: ResizeObserver is not defined
 ❯ components/SalesGrid.tsx:51:28
 ❯ commitHookEffectListMount node_modules/react-dom/cjs/react-dom.development.js:23189:26
 ❯ commitPassiveMountOnFiber node_modules/react-dom/cjs/react-dom.development.js:24970:11
 ❯ commitPassiveMountEffects_complete node_modules/react-dom/cjs/react-dom.development.js:24930:9
 ❯ commitPassiveMountEffects_begin node_modules/react-dom/cjs/react-dom.development.js:24917:7
 ❯ commitPassiveMountEffects node_modules/react-dom/cjs/react-dom.development.js:24905:3
 ❯ flushPassiveEffectsImpl node_modules/react-dom/cjs/react-dom.development.js:27078:3
 ❯ flushPassiveEffects node_modules/react-dom/cjs/react-dom.development.js:27023:14
 ❯ commitRootImpl node_modules/react-dom/cjs/react-dom.development.js:26974:5
 ❯ commitRoot node_modules/react-dom/cjs/react-dom.development.js:26721:5



Error: ReferenceError: ResizeObserver is not defined
 ❯ components/SalesGrid.tsx:51:28
 ❯ commitHookEffectListMount node_modules/react-dom/cjs/react-dom.development.js:23189:26
 ❯ commitPassiveMountOnFiber node_modules/react-dom/cjs/react-dom.development.js:24970:11
 ❯ commitPassiveMountEffects_complete node_modules/react-dom/cjs/react-dom.development.js:24930:9
 ❯ commitPassiveMountEffects_begin node_modules/react-dom/cjs/react-dom.development.js:24917:7
 ❯ commitPassiveMountEffects node_modules/react-dom/cjs/react-dom.development.js:24905:3
 ❯ flushPassiveEffectsImpl node_modules/react-dom/cjs/react-dom.development.js:27078:3
 ❯ flushPassiveEffects node_modules/react-dom/cjs/react-dom.development.js:27023:14
 ❯ commitRootImpl node_modules/react-dom/cjs/react-dom.development.js:26974:5
 ❯ commitRoot node_modules/react-dom/cjs/react-dom.development.js:26721:5



Error: ReferenceError: ResizeObserver is not defined
 ❯ components/SalesGrid.tsx:51:28
 ❯ commitHookEffectListMount node_modules/react-dom/cjs/react-dom.development.js:23189:26
 ❯ commitPassiveMountOnFiber node_modules/react-dom/cjs/react-dom.development.js:24970:11
 ❯ commitPassiveMountEffects_complete node_modules/react-dom/cjs/react-dom.development.js:24930:9
 ❯ commitPassiveMountEffects_begin node_modules/react-dom/cjs/react-dom.development.js:24917:7
 ❯ commitPassiveMountEffects node_modules/react-dom/cjs/react-dom.development.js:24905:3
 ❯ flushPassiveEffectsImpl node_modules/react-dom/cjs/react-dom.development.js:27078:3
 ❯ flushPassiveEffects node_modules/react-dom/cjs/react-dom.development.js:27023:14
 ❯ commitRootImpl node_modules/react-dom/cjs/react-dom.development.js:26974:5
 ❯ commitRoot node_modules/react-dom/cjs/react-dom.development.js:26721:5



Error: ReferenceError: ResizeObserver is not defined
 ❯ components/SalesGrid.tsx:51:28
 ❯ commitHookEffectListMount node_modules/react-dom/cjs/react-dom.development.js:23189:26
 ❯ commitPassiveMountOnFiber node_modules/react-dom/cjs/react-dom.development.js:24970:11
 ❯ commitPassiveMountEffects_complete node_modules/react-dom/cjs/react-dom.development.js:24930:9
 ❯ commitPassiveMountEffects_begin node_modules/react-dom/cjs/react-dom.development.js:24917:7
 ❯ commitPassiveMountEffects node_modules/react-dom/cjs/react-dom.development.js:24905:3
 ❯ flushPassiveEffectsImpl node_modules/react-dom/cjs/react-dom.development.js:27078:3
 ❯ flushPassiveEffects node_modules/react-dom/cjs/react-dom.development.js:27023:14
 ❯ commitRootImpl node_modules/react-dom/cjs/react-dom.development.js:26974:5
 ❯ commitRoot node_modules/react-dom/cjs/react-dom.development.js:26721:5



Error: ReferenceError: ResizeObserver is not defined
 ❯ components/SalesGrid.tsx:51:28
 ❯ commitHookEffectListMount node_modules/react-dom/cjs/react-dom.development.js:23189:26
 ❯ commitPassiveMountOnFiber node_modules/react-dom/cjs/react-dom.development.js:24970:11
 ❯ commitPassiveMountEffects_complete node_modules/react-dom/cjs/react-dom.development.js:24930:9
 ❯ commitPassiveMountEffects_begin node_modules/react-dom/cjs/react-dom.development.js:24917:7
 ❯ commitPassiveMountEffects node_modules/react-dom/cjs/react-dom.development.js:24905:3
 ❯ flushPassiveEffectsImpl node_modules/react-dom/cjs/react-dom.development.js:27078:3
 ❯ flushPassiveEffects node_modules/react-dom/cjs/react-dom.development.js:27023:14
 ❯ commitRootImpl node_modules/react-dom/cjs/react-dom.development.js:26974:5
 ❯ commitRoot node_modules/react-dom/cjs/react-dom.development.js:26721:5



Error: TestingLibraryElementError: Found multiple elements with the role "button" and name `/post sale/i`

Here are the matching elements:

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
</body>
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ getElementError node_modules/@testing-library/dom/dist/query-helpers.js:20:35
 ❯ getMultipleElementsFoundError node_modules/@testing-library/dom/dist/query-helpers.js:23:10
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:55:13
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ tests/integration/addSale.insert.test.tsx:120:33



Error: TestingLibraryElementError: Found multiple elements with the role "button" and name `/post sale/i`

Here are the matching elements:

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
</body>
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ getElementError node_modules/@testing-library/dom/dist/query-helpers.js:20:35
 ❯ getMultipleElementsFoundError node_modules/@testing-library/dom/dist/query-helpers.js:23:10
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:55:13
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ tests/integration/addSale.insert.test.tsx:130:33



Error: TestingLibraryElementError: Found multiple elements with the text: Posting...

Here are the matching elements:

Ignored nodes: comments, script, style
<div>
  Posting...
</div>

Ignored nodes: comments, script, style
<div>
  Posting...
</div>

Ignored nodes: comments, script, style
<div>
  Posting...
</div>

Ignored nodes: comments, script, style
<div>
  Posting...
</div>

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
</body>
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ getElementError node_modules/@testing-library/dom/dist/query-helpers.js:20:35
 ❯ getMultipleElementsFoundError node_modules/@testing-library/dom/dist/query-helpers.js:23:10
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:55:13
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ tests/integration/addSale.insert.test.tsx:140:19



Error: TestingLibraryElementError: Found multiple elements with the role "button" and name `/post sale/i`

Here are the matching elements:

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
</body>
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ getElementError node_modules/@testing-library/dom/dist/query-helpers.js:20:35
 ❯ getMultipleElementsFoundError node_modules/@testing-library/dom/dist/que

Error: TestingLibraryElementError: Found multiple elements with the role "button" and name `/post sale/i`

Here are the matching elements:

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

Ignored nodes: comments, script, style
<button
  type="submit"
>
  Post Sale
</button>

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </

Error: TestingLibraryElementError: Found multiple elements with the text: Post Your Sale

Here are the matching elements:

Ignored nodes: comments, script, style
<h1>
  Post Your Sale
</h1>

Ignored nodes: comments, script, style
<h1>
  Post Your Sale
</h1>

Ignored nodes: comments, script, style
<h1>
  Post Your Sale
</h1>

Ignored nodes: comments, script, style
<h1>
  Post Your Sale
</h1>

Ignored nodes: comments, script, style
<h1>
  Post Your Sale
</h1>

Ignored nodes: comments, script, style
<h1>
  Post Your Sale
</h1>

Ignored nodes: comments, script, style
<h1>
  Post Your Sale
</h1>

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
          type="text"
        />
        <label
          for="address"
        >
          Address *
        </label>
        <input
          id="address"
          name="address"
          type="text"
        />
        <button
          type="submit"
        >
          Post Sale
        </button>
      </form>
      <div>
        Posting...
      </div>
    </div>
  </div>
  <div>
    <div>
      <h1>
        Post Your Sale
      </h1>
      <form>
        <label
          for="title"
        >
          Sale Title *
        </label>
        <input
          id="title"
          name="title"
   

Error: ReferenceError: ResizeObserver is not defined
 ❯ components/SalesGrid.tsx:51:28
 ❯ commitHookEffectListMount node_modules/react-dom/cjs/react-dom.development.js:23189:26
 ❯ commitPassiveMountOnFiber node_modules/react-dom/cjs/react-dom.development.js:24970:11
 ❯ commitPassiveMountEffects_complete node_modules/react-dom/cjs/react-dom.development.js:24930:9
 ❯ commitPassiveMountEffects_begin node_modules/react-dom/cjs/react-dom.development.js:24917:7
 ❯ commitPassiveMountEffects node_modules/react-dom/cjs/react-dom.development.js:24905:3
 ❯ flushPassiveEffectsImpl node_modules/react-dom/cjs/react-dom.development.js:27078:3
 ❯ flushPassiveEffects node_modules/react-dom/cjs/react-dom.development.js:27023:14
 ❯ commitRootImpl node_modules/react-dom/cjs/react-dom.development.js:26974:5
 ❯ commitRoot node_modules/react-dom/cjs/react-dom.development.js:26721:5



Error: ReferenceError: ResizeObserver is not defined
 ❯ components/SalesGrid.tsx:51:28
 ❯ commitHookEffectListMount node_modules/react-dom/cjs/react-dom.development.js:23189:26
 ❯ commitPassiveMountOnFiber node_modules/react-dom/cjs/react-dom.development.js:24970:11
 ❯ commitPassiveMountEffects_complete node_modules/react-dom/cjs/react-dom.development.js:24930:9
 ❯ commitPassiveMountEffects_begin node_modules/react-dom/cjs/react-dom.development.js:24917:7
 ❯ commitPassiveMountEffects node_modules/react-dom/cjs/react-dom.development.js:24905:3
 ❯ flushPassiveEffectsImpl node_modules/react-dom/cjs/react-dom.development.js:27078:3
 ❯ flushPassiveEffects node_modules/react-dom/cjs/react-dom.development.js:27023:14
 ❯ commitRootImpl node_modules/react-dom/cjs/react-dom.development.js:26974:5
 ❯ commitRoot node_modules/react-dom/cjs/react-dom.development.js:26721:5



Error: ReferenceError: ResizeObserver is not defined
 ❯ components/SalesGrid.tsx:51:28
 ❯ commitHookEffectListMount node_modules/react-dom/cjs/react-dom.development.js:23189:26
 ❯ commitPassiveMountOnFiber node_modules/react-dom/cjs/react-dom.development.js:24970:11
 ❯ commitPassiveMountEffects_complete node_modules/react-dom/cjs/react-dom.development.js:24930:9
 ❯ commitPassiveMountEffects_begin node_modules/react-dom/cjs/react-dom.development.js:24917:7
 ❯ commitPassiveMountEffects node_modules/react-dom/cjs/react-dom.development.js:24905:3
 ❯ flushPassiveEffectsImpl node_modules/react-dom/cjs/react-dom.development.js:27078:3
 ❯ flushPassiveEffects node_modules/react-dom/cjs/react-dom.development.js:27023:14
 ❯ commitRootImpl node_modules/react-dom/cjs/react-dom.development.js:26974:5
 ❯ commitRoot node_modules/react-dom/cjs/react-dom.development.js:26721:5



Error: ReferenceError: ResizeObserver is not defined
 ❯ components/SalesGrid.tsx:51:28
 ❯ commitHookEffectListMount node_modules/react-dom/cjs/react-dom.development.js:23189:26
 ❯ commitPassiveMountOnFiber node_modules/react-dom/cjs/react-dom.development.js:24970:11
 ❯ commitPassiveMountEffects_complete node_modules/react-dom/cjs/react-dom.development.js:24930:9
 ❯ commitPassiveMountEffects_begin node_modules/react-dom/cjs/react-dom.development.js:24917:7
 ❯ commitPassiveMountEffects node_modules/react-dom/cjs/react-dom.development.js:24905:3
 ❯ flushPassiveEffectsImpl node_modules/react-dom/cjs/react-dom.development.js:27078:3
 ❯ flushPassiveEffects node_modules/react-dom/cjs/react-dom.development.js:27023:14
 ❯ commitRootImpl node_modules/react-dom/cjs/react-dom.development.js:26974:5
 ❯ commitRoot node_modules/react-dom/cjs/react-dom.development.js:26721:5



Error: ReferenceError: ResizeObserver is not defined
 ❯ components/SalesGrid.tsx:51:28
 ❯ commitHookEffectListMount node_modules/react-dom/cjs/react-dom.development.js:23189:26
 ❯ commitPassiveMountOnFiber node_modules/react-dom/cjs/react-dom.development.js:24970:11
 ❯ commitPassiveMountEffects_complete node_modules/react-dom/cjs/react-dom.development.js:24930:9
 ❯ commitPassiveMountEffects_begin node_modules/react-dom/cjs/react-dom.development.js:24917:7
 ❯ commitPassiveMountEffects node_modules/react-dom/cjs/react-dom.development.js:24905:3
 ❯ flushPassiveEffectsImpl node_modules/react-dom/cjs/react-dom.development.js:27078:3
 ❯ flushPassiveEffects node_modules/react-dom/cjs/react-dom.development.js:27023:14
 ❯ commitRootImpl node_modules/react-dom/cjs/react-dom.development.js:26974:5
 ❯ commitRoot node_modules/react-dom/cjs/react-dom.development.js:26721:5



Error: ReferenceError: ResizeObserver is not defined
 ❯ components/SalesGrid.tsx:51:28
 ❯ commitHookEffectListMount node_modules/react-dom/cjs/react-dom.development.js:23189:26
 ❯ commitPassiveMountOnFiber node_modules/react-dom/cjs/react-dom.development.js:24970:11
 ❯ commitPassiveMountEffects_complete node_modules/react-dom/cjs/react-dom.development.js:24930:9
 ❯ commitPassiveMountEffects_begin node_modules/react-dom/cjs/react-dom.development.js:24917:7
 ❯ commitPassiveMountEffects node_modules/react-dom/cjs/react-dom.development.js:24905:3
 ❯ flushPassiveEffectsImpl node_modules/react-dom/cjs/react-dom.development.js:27078:3
 ❯ flushPassiveEffects node_modules/react-dom/cjs/react-dom.development.js:27023:14
 ❯ commitRootImpl node_modules/react-dom/cjs/react-dom.development.js:26974:5
 ❯ commitRoot node_modules/react-dom/cjs/react-dom.development.js:26721:5



Error: TypeError: supabase.auth.getUser.mockResolvedValue is not a function
 ❯ tests/integration/rls.owner.test.ts:18:27



Error: TypeError: supabase.auth.getUser.mockResolvedValue is not a function
 ❯ tests/integration/rls.owner.test.ts:47:27



Error: TypeError: supabase.auth.getUser.mockResolvedValue is not a function
 ❯ tests/integration/rls.owner.test.ts:77:27



Error: TypeError: supabase.auth.getUser.mockResolvedValue is not a function
 ❯ tests/integration/rls.owner.test.ts:113:27



Error: TypeError: supabase.auth.getUser.mockResolvedValue is not a function
 ❯ tests/integration/rls.owner.test.ts:149:27



Error: TypeError: supabase.auth.getUser.mockResolvedValue is not a function
 ❯ tests/integration/rls.owner.test.ts:184:27



Error: Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ beginWork$1 node_modules/react-dom/cjs/react-dom.development.js:27465:14
 ❯ performUnitOfWork node_modules/react-dom/cjs/react-dom.development.js:26599:12
 ❯ workLoopSync node_modules/react-dom/cjs/react-dom.development.js:26505:5
 ❯ renderRootSync node_modules/react-dom/cjs/react-dom.development.js:26473:7
 ❯ recoverFromConcurrentError node_modules/react-dom/cjs/react-dom.development.js:25889:20



Error: TestingLibraryElementError: Unable to find an element with the text: /no sales found/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
<body>
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
  <div />
</body>
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ tests/integration/sales-list.spec.tsx:72:19



Error: Error: invariant expected app router to be mounted
 ❯ Proxy.useRouter node_modules/next/src/client/components/navigation.ts:113:11
 ❯ FavoriteButton components/FavoriteButton.tsx:13:18
 ❯ renderWithHooks node_modules/react-dom/cjs/react-dom.development.js:15486:18
 ❯ mountIndeterminateComponent node_modules/react-dom/cjs/react-dom.development.js:20103:13
 ❯ beginWork node_modules/react-dom/cjs/react-dom.development.js:21626:16
 ❯ beginWork$1 node_modules/react-dom/cjs/react-dom.development.js:27465:14
 ❯ performUnitOfWork node_modules/react-dom/cjs/react-dom.development.js:26599:12
 ❯ workLoopSync node_modules/react-dom/cjs/react-dom.development.js:26505:5
 ❯ renderRootSync node_modules/react-dom/cjs/react-dom.development.js:26473:7
 ❯ recoverFromConcurrentError node_modules/react-dom/cjs/react-dom.development.js:25889:20



Error: AssertionError: expected undefined to be 'https://lootaura.app' // Object.is equality

- Expected: 
"https://lootaura.app"

+ Received: 
undefined

 ❯ tests/unit/env.test.ts:87:45



Error: AssertionError: expected null to deeply equal { lat: 38.1405, lng: -85.6936, …(4) }

- Expected: 
Object {
  "city": "Louisville",
  "formatted_address": "123 Test St, Louisville, KY",
  "lat": 38.1405,
  "lng": -85.6936,
  "state": "KY",
  "zip": "40201",
}

+ Received: 
null

 ❯ tests/unit/geocode.fallback.test.ts:31:20



Error: AssertionError: expected null to deeply equal { lat: 38.1405, lng: -85.6936, …(4) }

- Expected: 
Object {
  "city": "Louisville",
  "formatted_address": "123 Test St, Louisville, KY",
  "lat": 38.1405,
  "lng": -85.6936,
  "state": "KY",
  "zip": "40201",
}

+ Received: 
null

 ❯ tests/unit/geocode.fallback.test.ts:54:20



Error: AssertionError: expected null to deeply equal { lat: 38.1405, lng: -85.6936, …(4) }

- Expected: 
Object {
  "city": "Louisville",
  "formatted_address": "123 Test St, Louisville, KY",
  "lat": 38.1405,
  "lng": -85.6936,
  "state": "KY",
  "zip": "40201",
}

+ Received: 
null

 ❯ tests/unit/geocode.fallback.test.ts:84:20



Error: AssertionError: expected null to be truthy

- Expected: 
true

+ Received: 
null

 ❯ tests/unit/geocode.fallback.test.ts:103:21


Error: Process completed with exit code 1.